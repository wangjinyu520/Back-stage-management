webpackJsonp([26],{"5b9H":function(e,a){},kVRO:function(e,a){},v3cK:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("mvHQ"),r=t.n(n),o=t("woOf"),i=t.n(o),l=t("G0J2"),c=t("+yKa"),s=(t("3f40"),t("4qOc"),t("+cgv"),t("TZVV")),m=t("z0xl"),u=t("KA92"),p=[{label:"灯光师",value:1},{label:"音响师",value:2},{label:"视频师",value:3},{label:"项目经理",value:4},{label:"搭建",value:5},{label:"舞美",value:6}],d=[{label:"男",value:1},{label:"女",value:2}],y={bannerName:null,jumpUrl:null,bannerType:1,description:null,sortIndex:0,imageUrl:null,startDate:null,endDate:null,status:0},b={name:"HomeAdvertiseDetail",components:{SingleUpload:s.a,quillEditor:l.quillEditor},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{quillOption:c.a,company:null,uploadPath:u.c,rules:{bannerName:[{required:!0,message:"请输入广告名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 140 个字符",trigger:"blur"}],jumpUrl:[{required:!0,message:"请输入广告链接",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"blur"}],contact:[{required:!0,message:"联系方式不能为空",trigger:"blur"},{min:11,max:11,message:"手机号长度为11位",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"手机号码格式不正确",trigger:"blur"}],endDate:[{required:!0,message:"请选择到期时间",trigger:"blur"}],imageUrl:[{required:!0,message:"请选择广告图片",trigger:"blur"}]},typeOptions:i()({},p),genderOptions:i()({},d)}},created:function(){var e=this;if(this.isEdit){console.log("companyId is"+this.$route.query.companyId);var a=new URLSearchParams;a.append("companyId",this.$route.query.companyId),Object(m.f)(a).then(function(a){e.company=a.data,e.company.activated=1,e.imageUrlList=a.data.companyProve.split(",")})}else this.company=i()({},y)},methods:{handlePictureCardPreview:function(e){console.log(e)},uploadProductUrl:function(e){console.log(e),console.log("uploadSuccess"),this.company.imageUrl=e.data},checkType:function(e){console.log(e),this.company.file=e.raw,void 0!=window.createObjectURL?this.company.imageUrl=window.createObjectURL(e.raw):void 0!=window.URL?this.company.imageUrl=window.URL.createObjectURL(e.raw):void 0!=window.webkitURL&&(this.company.imageUrl=window.webkitURL.createObjectURL(e.raw))},onSubmit:function(e){var a=this;this.$refs[e].validate(function(t){if(!t)return a.$message({message:"验证失败",type:"error",duration:1e3}),!1;a.$confirm("是否提交数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){if(a.isEdit){var t={companyId:a.company.companyId,companyName:a.company.companyName,companyTaxnumber:a.company.companyTaxnumber,contact:a.company.contact,companyIntroduction:a.company.companyIntroduction,activated:a.company.activated};console.log(r()(t)),Object(m.h)(t).then(function(t){a.$refs[e].resetFields(),a.$message({message:"修改成功",type:"success",duration:1e3}),a.$router.back()})}else Object(m.b)(a.company).then(function(t){a.$refs[e].resetFields(),a.company=i()({},y),a.$message({message:"提交成功",type:"success",duration:1e3})})})})},resetForm:function(e){this.$refs[e].resetFields(),this.company=i()({},y)}}},g={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[t("el-form",{ref:"companyFrom",attrs:{model:e.company,rules:e.rules,"label-width":"150px",size:"small"}},[t("el-form-item",{attrs:{label:"公司名称：",prop:"name"}},[t("el-input",{staticClass:"input-width",attrs:{readonly:"readonly"},model:{value:e.company.companyName,callback:function(a){e.$set(e.company,"companyName",a)},expression:"company.companyName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司税号：",prop:"name"}},[t("el-input",{staticClass:"input-width",attrs:{readonly:"readonly"},model:{value:e.company.companyTaxnumber,callback:function(a){e.$set(e.company,"companyTaxnumber",a)},expression:"company.companyTaxnumber"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司证明材料："}},[e._l(this.imageUrlList,function(e){return t("img",{staticClass:"head_pic",attrs:{src:e,width:"120",height:"120"}})})],2),e._v(" "),t("el-form-item",{attrs:{label:"公司联系方式：",prop:"contact"}},[t("el-input",{staticClass:"input-width",model:{value:e.company.contact,callback:function(a){e.$set(e.company,"contact",a)},expression:"company.contact"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"审核通过/审核不通过："}},[t("el-radio-group",{model:{value:e.company.activated,callback:function(a){e.$set(e.company,"activated",a)},expression:"company.activated"}},[t("el-radio",{attrs:{label:2}},[e._v("审核不通过")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("审核通过")])],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.onSubmit("companyFrom")}}},[e._v("提交")]),e._v(" "),e.isEdit?e._e():t("el-button",{on:{click:function(a){return e.resetForm("companyFrom")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var v={name:"updateHomeAdvertise",components:{HomeAdvertiseDetail:t("VU/8")(b,g,!1,function(e){t("kVRO")},"data-v-3a19c6b2",null).exports}},f={render:function(){var e=this.$createElement;return(this._self._c||e)("home-advertise-detail",{attrs:{isEdit:!0}})},staticRenderFns:[]};var h=t("VU/8")(v,f,!1,function(e){t("5b9H")},null,null);a.default=h.exports}});
//# sourceMappingURL=26.7fad7255d03b59ba87cd.js.map