webpackJsonp([32],{MYWm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("woOf"),i=a.n(l),n=a("vLgD");var s=a("STSY"),o={pageNum:1,pageSize:5,adminName:null,roleId:null},r=[{label:"未推荐",value:0},{label:"推荐中",value:1}],c=[{label:"财务管理员",value:1},{label:"运营管理员",value:2},{label:"超级管理员",value:3}],u={id:null,title:null,startDate:null,endDate:null,status:0},d={name:"hotProductList",data:function(){return{listQuery:i()({},o),recommendOptions:i()({},r),list:null,total:null,listLoading:!1,multipleSelection:[],roleOptions:[],operates:[{label:"设为推荐",value:0},{label:"取消推荐",value:1},{label:"删除",value:2}],operateType:null,selectDialogVisible:!1,dialogData:{list:null,total:null,multipleSelection:[],listQuery:{keyword:null,pageNum:1,pageSize:5}},sortDialogVisible:!1,sortDialogData:i()({},u)}},created:function(){var t=this;this.getList(),Object(s.a)().then(function(e){t.roleOptions=e.data})},filters:{formatRecommendStatus:function(t){return 1===t?"已处理":"未处理"},formatRole:function(t){for(var e=0;e<c.length;e++)if(t===c[e].value)return c[e].label;return""},formatReportType:function(t){return 1===t?"违法行为":2===t?"涉黄":"其他"}},methods:{handleResetSearch:function(){this.listQuery=i()({},o)},handleSearchList:function(){this.listQuery.pageNum=1,this.getList()},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},handleDelete:function(t,e){this.deleteAdmin(e.id)},handleBatchOperate:function(){if(this.multipleSelection<1)this.$message({message:"请选择一条记录",type:"warning",duration:1e3});else{for(var t=[],e=0;e<this.multipleSelection.length;e++)t.push(this.multipleSelection[e].id);0===this.operateType?this.updateRecommendStatusStatus(t,1):1===this.operateType?this.updateRecommendStatusStatus(t,0):2===this.operateType?this.deleteAdmin(t):this.$message({message:"请选择批量操作类型",type:"warning",duration:1e3})}},handleSelectProduct:function(){this.selectDialogVisible=!0,this.getDialogList()},handleSelectSearch:function(){this.getDialogList()},handleAdd:function(t,e){this.sortDialogVisible=!0,this.isEdit=!1,this.sortDialogData=i()({},u)},handleUpdate:function(t,e){this.sortDialogVisible=!0,this.isEdit=!0,this.sortDialogData=i()({},e)},handleDialogConfirm:function(){var t=this;this.$confirm("是否要确认?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a;t.isEdit?(e=t.sortDialogData.adminId,a=t.sortDialogData,Object(n.a)({url:"/admin/modifyAdmin/"+e,method:"post",params:a})).then(function(e){t.$message({message:"修改成功！",type:"success"}),t.sortDialogVisible=!1,t.getList()}):function(t){return Object(n.a)({url:"/admin/addAdmin",method:"post",params:t})}(t.sortDialogData).then(function(e){t.$message({message:"添加成功！",type:"success"}),t.sortDialogVisible=!1,t.getList()})})},getList:function(){var t,e=this;this.listLoading=!0,(t=this.listQuery,Object(n.a)({url:"/admin/getAdminList",method:"get",params:t})).then(function(t){e.listLoading=!1,e.list=t.data,e.total=t.total})},updateRecommendStatusStatus:function(t,e){var a=this;this.$confirm("是否要修改推荐状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var l=new URLSearchParams;l.append("ids",t),l.append("recommendStatus",e),updateRecommendStatus(l).then(function(t){a.getList(),a.$message({type:"success",message:"修改成功!"})})}).catch(function(){a.$message({type:"success",message:"已取消操作!"}),a.getList()})},deleteAdmin:function(t){var e=this;this.$confirm("是否要删除该管理员?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a,l=new URLSearchParams;l.append("ids",t),(a=l,Object(n.a)({url:"/admin/deleteAdmin/"+a,method:"post"})).then(function(t){e.getList(),e.$message({type:"success",message:"删除成功!"})})})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSearchList()}}},[t._v("\n          查询搜索\n        ")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(e){return t.handleResetSearch()}}},[t._v("\n          重置\n\t\t  ")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.listQuery,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"用户名："}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"用户名"},model:{value:t.listQuery.adminName,callback:function(e){t.$set(t.listQuery,"adminName",e)},expression:"listQuery.adminName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"角色："}},[a("el-select",{staticClass:"input-width",attrs:{placeholder:"全部",clearable:""},model:{value:t.listQuery.roleId,callback:function(e){t.$set(t.listQuery,"roleId",e)},expression:"listQuery.roleId"}},t._l(t.roleOptions,function(t){return a("el-option",{key:t.roleId,attrs:{label:t.roleName,value:t.roleId}})}),1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[a("i",{staticClass:"el-icon-tickets"}),t._v(" "),a("span",[t._v("数据列表")]),t._v(" "),a("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:function(e){return t.handleAdd()}}},[t._v("添加管理员")])],1),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"newProductTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"编号",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.adminId))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.adminName))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.description))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"账号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.account))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("formatRole")(e.row.roleId)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"联系方式",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.mobile))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleUpdate(e.$index,e.row)}}},[t._v("编辑\n            ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除\n            ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"batch-operate-container"},[a("el-select",{attrs:{size:"small",placeholder:"批量操作"},model:{value:t.operateType,callback:function(e){t.operateType=e},expression:"operateType"}},t._l(t.operates,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{staticClass:"search-button",staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleBatchOperate()}}},[t._v("\n        确定\n      ")])],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":t.listQuery.pageSize,"page-sizes":[5,10,15],"current-page":t.listQuery.pageNum,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.listQuery,"pageNum",e)},"update:current-page":function(e){return t.$set(t.listQuery,"pageNum",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"添加/修改 管理员",visible:t.sortDialogVisible,width:"40%"},on:{"update:visible":function(e){t.sortDialogVisible=e}}},[a("el-form",{attrs:{model:t.sortDialogData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.sortDialogData.adminName,callback:function(e){t.$set(t.sortDialogData,"adminName",e)},expression:"sortDialogData.adminName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.sortDialogData.email,callback:function(e){t.$set(t.sortDialogData,"email",e)},expression:"sortDialogData.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"账号："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.sortDialogData.account,callback:function(e){t.$set(t.sortDialogData,"account",e)},expression:"sortDialogData.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.sortDialogData.password,callback:function(e){t.$set(t.sortDialogData,"password",e)},expression:"sortDialogData.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.sortDialogData.mobile,callback:function(e){t.$set(t.sortDialogData,"mobile",e)},expression:"sortDialogData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"部门ID："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.sortDialogData.deptId,callback:function(e){t.$set(t.sortDialogData,"deptId",e)},expression:"sortDialogData.deptId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"角色："}},[a("el-select",{staticClass:"input-width",staticStyle:{width:"400px"},attrs:{placeholder:"全部",clearable:""},model:{value:t.sortDialogData.roleId,callback:function(e){t.$set(t.sortDialogData,"roleId",e)},expression:"sortDialogData.roleId"}},t._l(t.roleOptions,function(t){return a("el-option",{key:t.roleId,attrs:{label:t.roleName,value:t.roleId}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"昵称："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.sortDialogData.nickName,callback:function(e){t.$set(t.sortDialogData,"nickName",e)},expression:"sortDialogData.nickName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述："}},[a("el-input",{staticClass:"input-width",staticStyle:{width:"400px"},attrs:{type:"textarea",rows:2,placeholder:"请输入描述内容"},model:{value:t.sortDialogData.description,callback:function(e){t.$set(t.sortDialogData,"description",e)},expression:"sortDialogData.description"}})],1)],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.sortDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleDialogConfirm}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(d,m,!1,function(t){a("gO2d")},null,null);e.default=p.exports},STSY:function(t,e,a){"use strict";e.c=function(t){return Object(l.a)({url:"/role/getRoleList",method:"get",params:t})},e.a=function(){return Object(l.a)({url:"/role/getAllRole",method:"get"})},e.b=function(t){return Object(l.a)({url:"/role/addRole",method:"post",params:t})},e.d=function(t,e){return Object(l.a)({url:"/role/modifyRole/"+t,method:"post",params:e})};var l=a("vLgD")},gO2d:function(t,e){}});
//# sourceMappingURL=32.a8bb1e45ee4ae78c94ca.js.map