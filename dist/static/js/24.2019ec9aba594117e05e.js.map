{"version":3,"sources":["webpack:///src/views/wms/coupon/components/CouponDetail.vue","webpack:///./src/views/wms/coupon/components/CouponDetail.vue?4841","webpack:///./src/views/wms/coupon/components/CouponDetail.vue","webpack:///src/views/wms/coupon/update.vue","webpack:///./src/views/wms/coupon/update.vue?a5d3","webpack:///./src/views/wms/coupon/update.vue"],"names":["defaultCoupon","type","couponName","platform","amount","perLimit","minPoint","startTime","endTime","useType","note","publishCount","productRelationList","productCategoryRelationList","defaultTypeOptions","label","value","defaultPlatformOptions","CouponDetail","name","props","isEdit","Boolean","default","data","coupon","typeOptions","assign_default","platformOptions","rules","required","message","trigger","min","max","selectProduct","selectProductLoading","selectProductOptions","selectProductCate","productCateOptions","created","_this","this","Object","$route","query","couponId","then","response","productIds","length","split","product","pageNum","pageSize","i","j","productId","push","productName","methods","onSubmit","formName","_this2","$refs","validate","valid","$message","duration","$confirm","confirmButtonText","cancelButtonText","checkTime","params","URLSearchParams","append","couponType","date","Date","startDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","endDate","description","substring","lastIndexOf","resetFields","$router","back","resetForm","searchProductMethod","_this3","loading","merchantId","productList","item","productSn","handleAddProductRelation","getProductById","handleDeleteProductRelation","index","row","splice","handleAddProductCategoryRelation","getProductCateByIds","handleDeleteProductCateRelation","id","getProductCateList","_this4","productCate","list","children","ids","parentName","productCategoryId","productCategoryName","parentCategoryName","components_CouponDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","ref","model","label-width","size","callback","$$v","$set","expression","_l","key","_v","prop","placeholder","_n","slot","staticStyle","width","margin-left","margin-right","directives","rawName","clearable","options","on","click","$event","margin-top","border","align","scopedSlots","_u","fn","scope","_s","$index","filterable","remote","reserve-keyword","remote-method","float","color","font-size","rows","_e","staticRenderFns","update","components","__webpack_require__","normalizeComponent","ssrContext","coupon_update","update_Component","update_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/24.2019ec9aba594117e05e.js","sourcesContent":["<template> \n  <el-card class=\"form-container\" shadow=\"never\">\n    <el-form :model=\"coupon\"\n             :rules=\"rules\"\n             ref=\"couponFrom\"\n             label-width=\"150px\"\n             size=\"small\">\n      <el-form-item label=\"优惠券类型：\">\n        <el-select v-model=\"coupon.couponType\">\n          <el-option\n            v-for=\"type in typeOptions\"\n            :key=\"type.value\"\n            :label=\"type.label\"\n            :value=\"type.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"优惠券名称：\" prop=\"couponName\">\n        <el-input v-model=\"coupon.couponName\" class=\"input-width\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"适用平台：\">\n        <el-select v-model=\"coupon.platform\">\n          <el-option\n            v-for=\"item in platformOptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"总发行量：\" prop=\"publishCount\">\n        <el-input v-model.number=\"coupon.publishCount\" placeholder=\"只能输入正整数\" class=\"input-width\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"面额：\" prop=\"amount\">\n        <el-input v-model.number=\"coupon.amount\" placeholder=\"面值只能是数值，限2位小数\" class=\"input-width\">\n          <template slot=\"append\">元</template>\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"每人限领：\">\n        <el-input v-model=\"coupon.perLimit\" placeholder=\"只能输入正整数\" class=\"input-width\">\n          <template slot=\"append\">张</template>\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"使用门槛：\" prop=\"minPoint\">\n        <el-input v-model.number=\"coupon.minPoint\" placeholder=\"只能输入正整数\" class=\"input-width\">\n          <template slot=\"prepend\">满</template>\n          <template slot=\"append\">元可用</template>\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"有效期：\">\n        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"coupon.startTime\" style=\"width: 150px\"></el-date-picker>\n        <span style=\"margin-left: 20px;margin-right: 20px\">至</span>\n        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"coupon.endTime\" style=\"width: 150px\"></el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"可使用商品：\">\n        <el-radio-group v-model=\"coupon.useType\">\n          <el-radio-button :label=\"0\">全场通用</el-radio-button>\n          <el-radio-button :label=\"1\">指定分类</el-radio-button>\n          <el-radio-button :label=\"2\">指定商品</el-radio-button>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item v-show=\"coupon.useType===1\">\n        <el-cascader\n          clearable\n          placeholder=\"请选择分类名称\"\n          v-model=\"selectProductCate\"\n          :options=\"productCateOptions\">\n        </el-cascader>\n        <el-button @click=\"handleAddProductCategoryRelation()\">添加</el-button>\n        <el-table ref=\"productCateRelationTable\"\n                  :data=\"coupon.productCategoryRelationList\"\n                  style=\"width: 100%;margin-top: 20px\"\n                  border>\n          <el-table-column label=\"分类名称\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.parentCategoryName}}>{{scope.row.productCategoryName}}</template>\n          </el-table-column>\n          <el-table-column label=\"操作\" align=\"center\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-button size=\"mini\"\n                         type=\"text\"\n                         @click=\"handleDeleteProductCateRelation(scope.$index, scope.row)\">删除\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n      <el-form-item v-show=\"coupon.useType===2\">\n        <el-select\n          v-model=\"selectProduct\"\n          filterable\n          remote\n          reserve-keyword\n          placeholder=\"商品名称/商品货号\"\n          :remote-method=\"searchProductMethod\"\n          :loading=\"selectProductLoading\">\n          <el-option\n            v-for=\"item in selectProductOptions\"\n            :key=\"item.productId\"\n            :label=\"item.productName\"\n            :value=\"item.productId\">\n            <span style=\"float: left\">{{ item.productName }}</span>\n            <span style=\"float: right; color: #8492a6; font-size: 13px\">NO.{{ item.productId }}</span>\n          </el-option>\n        </el-select>\n        <el-button @click=\"handleAddProductRelation()\">添加</el-button>\n        <el-table ref=\"productRelationTable\"\n                  :data=\"coupon.productRelationList\"\n                  style=\"width: 100%;margin-top: 20px\"\n                  border>\n          <el-table-column label=\"商品名称\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.productName}}</template>\n          </el-table-column>\n          <el-table-column label=\"货号\" align=\"center\"  width=\"120\" >\n            <template slot-scope=\"scope\">NO.{{scope.row.productId}}</template>\n          </el-table-column>\n          <el-table-column label=\"操作\" align=\"center\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-button size=\"mini\"\n                         type=\"text\"\n                         @click=\"handleDeleteProductRelation(scope.$index, scope.row)\">删除\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n      <el-form-item label=\"备注：\">\n        <el-input\n          class=\"input-width\"\n          type=\"textarea\"\n          :rows=\"5\"\n          placeholder=\"请输入内容\"\n          v-model=\"coupon.description\">\n        </el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit('couponFrom')\">提交</el-button>\n        <el-button v-if=\"!isEdit\" @click=\"resetForm('couponFrom')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n<script>\n  import {createCoupon,getCoupon,updateCoupon} from '@/api/coupon';\n  import {fetchList as fetchProductList,getProductName as getProductName} from '@/api/product';\n  import {fetchListWithChildren} from '@/api/productCate'\n\n  const defaultCoupon = {\n      type: 0,\n      couponName: null,\n      platform: 0,\n      amount: null,\n      perLimit: 1,\n      minPoint: null,\n      startTime: null,\n      endTime: null,\n      useType: 0,\n      note: null,\n      publishCount: null,\n      productRelationList: [],\n      productCategoryRelationList: []\n  };\n  const defaultTypeOptions = [\n    {\n      label: '全场赠券',\n      value: 1\n    },\n    {\n      label: '会员赠券',\n      value: 2\n    },\n    {\n      label: '购物赠券',\n      value: 3\n    },\n    {\n      label: '注册赠券',\n      value: 4\n    }\n  ];\n  const defaultPlatformOptions = [\n    {\n      label: '全平台',\n      value: 0\n    },\n    {\n      label: '移动平台',\n      value: 1\n    },\n    {\n      label: 'PC平台',\n      value: 2\n    }\n  ];\n  export default {\n    name: 'CouponDetail',\n    props: {\n      isEdit: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data() {\n      return {\n          coupon: {\n              type: 0,\n              couponName: null,\n              platform: 0,\n              amount: null,\n              perLimit: 1,\n              minPoint: null,\n              startTime: null,\n              endTime: null,\n              useType: 0,\n              note: null,\n              publishCount: null,\n              productRelationList: [],\n              productCategoryRelationList: []\n          },\n        typeOptions: Object.assign({}, defaultTypeOptions),\n        platformOptions: Object.assign({}, defaultPlatformOptions),\n        rules: {\n            couponName: [\n            {required: true, message: '请输入优惠券名称', trigger: 'blur'},\n            {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\n          ],\n          publishCount: [\n            {type: 'number',required: true, message: '只能输入正整数', trigger: 'blur'}\n          ],\n          amount: [\n            {type: 'number',required: true,message: '面值只能是数值，0.01-10000，限2位小数',trigger: 'blur'}\n          ],\n          minPoint: [\n            {type: 'number',required: true,message: '只能输入正整数',trigger: 'blur'}\n          ]\n        },\n        selectProduct:null,\n        selectProductLoading: false,\n        selectProductOptions:[],\n        selectProductCate: null,\n        productCateOptions: []\n      }\n    },\n      created() {\n          if (this.isEdit) {\n              getCoupon(this.$route.query.couponId).then(response => {\n                  this.coupon = response.data;\n                  this.coupon.productCategoryRelationList = [];\n                  this.coupon.productRelationList = [];\n                  if (response.data.productIds.length > 1) {\n                      let productIds = response.data.productIds.split(\",\");\n                      //查询商品列表\n                      fetchProductList({\n                          pageNum: 1, pageSize: 999\n                      }).then(response => {\n                          for (let i = 0; i < response.data.length; i++) {\n\n                              for (let j = 0; j < productIds.length; j++) {\n\n                                  if (response.data[i].productId == productIds[j]) {\n\n                                      this.coupon.productRelationList.push({\n                                          productName: response.data[i].productName,\n                                          productId: productIds[j]\n                                      });\n                                  }\n                              }\n                          }\n                      });\n                  }\n              });\n          }\n          //this.getProductCateList();\n      },\n    methods:{\n      onSubmit(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$confirm('是否提交数据', '提示', {\n              confirmButtonText: '确定',\n              cancelButtonText: '取消',\n              type: 'warning'\n            }).then(() => {\n              if(this.isEdit){\n                  let params = new URLSearchParams();\n\n                  function checkTime(i){\n                      if (i<10){\n                          i=\"0\" + i\n                      }\n                      return i;\n                  }\n                  params.append(\"couponType\",this.coupon.couponType);\n                  params.append(\"couponName\",this.coupon.couponName);\n                  params.append(\"platform\",this.coupon.platform);\n                  params.append(\"publishCount\",this.coupon.publishCount);\n                  params.append(\"amount\",this.coupon.amount);\n                  params.append(\"perLimit\",this.coupon.perLimit);\n                  params.append(\"minPoint\",this.coupon.minPoint);\n                  const date = new Date(this.coupon.startTime);\n                  const startDate = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate() + ' ' + checkTime(date.getHours()) + ':' + checkTime(date.getMinutes()) + ':' + checkTime(date.getSeconds());\n                  const endDate = new Date(this.coupon.endTime);\n                  const endTime = endDate.getFullYear() + '-' + (endDate.getMonth() + 1) + '-' + endDate.getDate() + ' ' + checkTime(endDate.getHours()) + ':' + checkTime(endDate.getMinutes()) + ':' + checkTime(endDate.getSeconds());\n                  params.append(\"startTime\",startDate);\n                  params.append(\"endTime\",endTime);\n                  params.append(\"useType\",this.coupon.useType);\n                  params.append(\"description\",this.coupon.description);\n                  let productIds = \"\";\n                  //循环赋值\n                  for (let i = 0; i < this.coupon.productRelationList.length; i++) {\n\n                      productIds = productIds + this.coupon.productRelationList[i].productId + \",\";\n                  }\n\n                  productIds = productIds.substring(0, productIds.lastIndexOf(\",\"));\n\n                  params.append(\"productIds\",productIds);\n\n                updateCoupon(this.$route.query.couponId,params).then(response=>{\n                  this.$refs[formName].resetFields();\n                  this.$message({\n                    message: '修改成功',\n                    type: 'success',\n                    duration:1000\n                  });\n                  this.$router.back();\n                });\n              }else{\n                createCoupon(this.coupon).then(response=>{\n                  this.$refs[formName].resetFields();\n                  this.$message({\n                    message: '提交成功',\n                    type: 'success',\n                    duration:1000\n                  });\n                  this.$router.back();\n                });\n              }\n            });\n          } else {\n            this.$message({\n              message: '验证失败',\n              type: 'error',\n              duration:1000\n            });\n            return false;\n          }\n        });\n      },\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n        this.coupon = Object.assign({},defaultCoupon);\n      },\n        searchProductMethod(query) {\n            if (query !== '') {\n                this.loading = true;\n                fetchProductList({\n                    productName: query, pageNum: 1, merchantId: this.$route.query.merchantId,\n                    pageSize: 999\n                }).then(response => {\n                    this.loading = false;\n                    let productList = response.data;\n                    this.selectProductOptions = [];\n                    for (let i = 0; i < productList.length; i++) {\n                        let item = productList[i];\n                        this.selectProductOptions.push({\n                            productId: item.productId,\n                            productName: item.productName,\n                            productSn: item.productId\n                        });\n                    }\n                });\n            } else {\n                this.selectProductOptions = [];\n            }\n        },\n        handleAddProductRelation() {\n            if (this.selectProduct === null) {\n                this.$message({\n                    message: '请先选择商品',\n                    type: 'warning'\n                });\n                return;\n            }\n\n            this.coupon.productRelationList.push(this.getProductById(this.selectProduct));\n            this.selectProduct = null;\n        },\n        handleDeleteProductRelation(index, row) {\n            this.coupon.productRelationList.splice(index, 1);\n        },\n        handleAddProductCategoryRelation() {\n            if (this.selectProductCate === null || this.selectProductCate.length === 0) {\n                this.$message({\n                    message: '请先选择商品分类',\n                    type: 'warning'\n                });\n                return\n            }\n            this.coupon.productCategoryRelationList.push(this.getProductCateByIds(this.selectProductCate));\n            this.selectProductCate = [];\n        },\n        handleDeleteProductCateRelation(index, row) {\n            this.coupon.productCategoryRelationList.splice(index, 1);\n        },\n        getProductById(id) {\n            for (let i = 0; i < this.selectProductOptions.length; i++) {\n                if (id === this.selectProductOptions[i].productId) {\n                    return this.selectProductOptions[i];\n                }\n            }\n            return null;\n        },\n      getProductCateList() {\n        fetchListWithChildren().then(response => {\n          let list = response.data;\n          this.productCateOptions = [];\n          for (let i = 0; i < list.length; i++) {\n            let children = [];\n            if (list[i].children != null && list[i].children.length > 0) {\n              for (let j = 0; j < list[i].children.length; j++) {\n                children.push({label: list[i].children[j].name, value: list[i].children[j].id});\n              }\n            }\n            this.productCateOptions.push({label: list[i].name, value: list[i].id, children: children});\n          }\n        });\n      },\n      getProductCateByIds(ids){\n        let name;\n        let parentName;\n        for (let i = 0; i < this.productCateOptions.length; i++) {\n          if (this.productCateOptions[i].value === ids[0]) {\n            parentName = this.productCateOptions[i].label;\n            for (let j = 0; j < this.productCateOptions[i].children.length; j++) {\n              if (this.productCateOptions[i].children[j].value === ids[1]) {\n                name = this.productCateOptions[i].children[j].label;\n              }\n            }\n          }\n        }\n        return {productCategoryId: ids[1], productCategoryName: name, parentCategoryName: parentName};\n      }\n    }\n  }\n</script>\n<style scoped>\n  .input-width {\n    width: 60%;\n  }\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/wms/coupon/components/CouponDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"form-container\",attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"couponFrom\",attrs:{\"model\":_vm.coupon,\"rules\":_vm.rules,\"label-width\":\"150px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"优惠券类型：\"}},[_c('el-select',{model:{value:(_vm.coupon.couponType),callback:function ($$v) {_vm.$set(_vm.coupon, \"couponType\", $$v)},expression:\"coupon.couponType\"}},_vm._l((_vm.typeOptions),function(type){return _c('el-option',{key:type.value,attrs:{\"label\":type.label,\"value\":type.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"优惠券名称：\",\"prop\":\"couponName\"}},[_c('el-input',{staticClass:\"input-width\",model:{value:(_vm.coupon.couponName),callback:function ($$v) {_vm.$set(_vm.coupon, \"couponName\", $$v)},expression:\"coupon.couponName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"适用平台：\"}},[_c('el-select',{model:{value:(_vm.coupon.platform),callback:function ($$v) {_vm.$set(_vm.coupon, \"platform\", $$v)},expression:\"coupon.platform\"}},_vm._l((_vm.platformOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"总发行量：\",\"prop\":\"publishCount\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"只能输入正整数\"},model:{value:(_vm.coupon.publishCount),callback:function ($$v) {_vm.$set(_vm.coupon, \"publishCount\", _vm._n($$v))},expression:\"coupon.publishCount\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"面额：\",\"prop\":\"amount\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"面值只能是数值，限2位小数\"},model:{value:(_vm.coupon.amount),callback:function ($$v) {_vm.$set(_vm.coupon, \"amount\", _vm._n($$v))},expression:\"coupon.amount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"每人限领：\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"只能输入正整数\"},model:{value:(_vm.coupon.perLimit),callback:function ($$v) {_vm.$set(_vm.coupon, \"perLimit\", $$v)},expression:\"coupon.perLimit\"}},[_c('template',{slot:\"append\"},[_vm._v(\"张\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用门槛：\",\"prop\":\"minPoint\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"只能输入正整数\"},model:{value:(_vm.coupon.minPoint),callback:function ($$v) {_vm.$set(_vm.coupon, \"minPoint\", _vm._n($$v))},expression:\"coupon.minPoint\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"元可用\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"有效期：\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.coupon.startTime),callback:function ($$v) {_vm.$set(_vm.coupon, \"startTime\", $$v)},expression:\"coupon.startTime\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"20px\"}},[_vm._v(\"至\")]),_vm._v(\" \"),_c('el-date-picker',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.coupon.endTime),callback:function ($$v) {_vm.$set(_vm.coupon, \"endTime\", $$v)},expression:\"coupon.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"可使用商品：\"}},[_c('el-radio-group',{model:{value:(_vm.coupon.useType),callback:function ($$v) {_vm.$set(_vm.coupon, \"useType\", $$v)},expression:\"coupon.useType\"}},[_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"全场通用\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"指定分类\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":2}},[_vm._v(\"指定商品\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.coupon.useType===1),expression:\"coupon.useType===1\"}]},[_c('el-cascader',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择分类名称\",\"options\":_vm.productCateOptions},model:{value:(_vm.selectProductCate),callback:function ($$v) {_vm.selectProductCate=$$v},expression:\"selectProductCate\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.handleAddProductCategoryRelation()}}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-table',{ref:\"productCateRelationTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.coupon.productCategoryRelationList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"分类名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.parentCategoryName)+\">\"+_vm._s(scope.row.productCategoryName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDeleteProductCateRelation(scope.$index, scope.row)}}},[_vm._v(\"删除\\n            \")])]}}])})],1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.coupon.useType===2),expression:\"coupon.useType===2\"}]},[_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"商品名称/商品货号\",\"remote-method\":_vm.searchProductMethod,\"loading\":_vm.selectProductLoading},model:{value:(_vm.selectProduct),callback:function ($$v) {_vm.selectProduct=$$v},expression:\"selectProduct\"}},_vm._l((_vm.selectProductOptions),function(item){return _c('el-option',{key:item.productId,attrs:{\"label\":item.productName,\"value\":item.productId}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.productName))]),_vm._v(\" \"),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8492a6\",\"font-size\":\"13px\"}},[_vm._v(\"NO.\"+_vm._s(item.productId))])])}),1),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.handleAddProductRelation()}}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-table',{ref:\"productRelationTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.coupon.productRelationList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.productName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"货号\",\"align\":\"center\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"NO.\"+_vm._s(scope.row.productId))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDeleteProductRelation(scope.$index, scope.row)}}},[_vm._v(\"删除\\n            \")])]}}])})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注：\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"请输入内容\"},model:{value:(_vm.coupon.description),callback:function ($$v) {_vm.$set(_vm.coupon, \"description\", $$v)},expression:\"coupon.description\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('couponFrom')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),(!_vm.isEdit)?_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('couponFrom')}}},[_vm._v(\"重置\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77fc2ba7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/wms/coupon/components/CouponDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77fc2ba7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CouponDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CouponDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CouponDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77fc2ba7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CouponDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77fc2ba7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wms/coupon/components/CouponDetail.vue\n// module id = null\n// module chunks = ","<template> \n  <coupon-detail :isEdit=\"true\"></coupon-detail>\n</template>\n<script>\n    import CouponDetail from './components/CouponDetail'\n    export default {\n        name: 'updateCoupon',\n        components: { CouponDetail }\n    }\n</script>\n<style scoped>\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/wms/coupon/update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('coupon-detail',{attrs:{\"isEdit\":true}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-aa6d5ac0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/wms/coupon/update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aa6d5ac0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./update.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aa6d5ac0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aa6d5ac0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wms/coupon/update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}