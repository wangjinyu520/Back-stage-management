{"version":3,"sources":["webpack:///src/views/wms/commodity/update.vue","webpack:///./src/views/wms/commodity/update.vue?5f29","webpack:///./src/views/wms/commodity/update.vue"],"names":["update","name","components","quillEditor","vue_quill_editor","data","_ref","gdialogVisible","gdialogImageUrl","dialogVisible","dialogImageUrl","quillOption","quill_config","editor","params","FormData","defineProperty_default","content","value","config","initialFrameWidth","initialFrameHeight","storage","commodityId","commodityName","commodityType","salePrice","purchasePrice","isScoreProduct","scoreProportion","commodityIcon","rent","location","unit","specification","productionPlace","productProfile","material","description","model","brand","picUrl","id","specifications","stock","url","stockId","attribute","productId","required","message","trigger","language","convert_urls","plugins","toolbar","watch","selectProductTypeValue","newValue","length","this","product","productType","created","init","mounted","methods","_this","$route","query","URLSearchParams","append","queryType","Object","commodity","then","response","introduce","companyName","commodityIconArray","split","console","log","power","specificationsList","stocks","stockList","attributes","catch","err","beforeUploadImage","file","handleCategoryChange","categoryId","handleCancel","$router","push","path","handleEdit","_this2","i","substring","finalGoods","stringify_default","$notify","success","title","element_ui_common","alert","errmsg","confirmButtonText","type","handleResetSearch","listQuery","assign_default","defaultListQuery","handleClose","tag","keywords","splice","indexOf","toString","showInput","_this3","newKeywordVisible","$nextTick","_","$refs","newKeywordInput","input","focus","handleInputConfirm","newKeyword","uploadPicUrl","productIcon","uploadOverrun","$message","handleGalleryUrl","fileList","errno","gallery","handlePictureCardPreview","handleRemove","undefined","beforeAvatarUpload","isJPG","isPng","isLt2M","size","error","uploadFile","specChanged","label","uploadSpecPicUrl","specForm","handleSpecificationShow","specVisiable","handleSpecificationAdd","index","specToProduct","handleSpecificationDelete","row","specValues","spec","values","aspec","productsIndex","combination","n","s","isContinue","x","z","j","p","handleProductShow","productForm","productVisiable","uploadProductUrl","handleProductEdit","handleAttributeShow","attributeForm","attributeVisiable","handleAttributeAdd","unshift","handleAttributeDelete","showmask","mask","style","display","hiddenmask","scaleImg","deleteImg","muluploadSuccess","res","obj","commodity_update","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","rules","label-width","prop","callback","$$v","$set","expression","staticStyle","width","slot","_l","item","key","on","mouseenter","$event","mouseleave","refInFor","click","src","_e","action","uploadPath","on-success","show-file-list","list-type","limit","file-list","multiple","height","visible","update:visible","alt","options","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/46.f8384da0798e0c30be86.js","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-card class=\"box-card\">\n      <h3>商品介绍</h3>\n      <el-form ref=\"product\" :rules=\"rules\" :model=\"commodity\" label-width=\"150px\">\n\n        <el-form-item label=\"商品名称\" prop=\"commodityName\">\n          <el-input v-model=\"commodity.commodityName\"/>\n        </el-form-item>\n\n        <el-form-item label=\"商品品牌：\">\n          <el-input v-model=\"commodity.brand\"/>\n        </el-form-item>\n\n        <el-form-item label=\"地址：\" >\n          <el-input v-model=\"commodity.location\"/>\n        </el-form-item>\n\n        <el-form-item label=\"租金：\" style=\"width: 1400px;\" prop=\"rent\">\n          <el-input v-model=\"commodity.rent\">\n            <template slot=\"append\">\n              <el-input v-model=\"commodity.unit\" style=\"width: 100px\"/>\n            </template>\n          </el-input>\n        </el-form-item>\n\n        <!--<el-form-item label=\"商品图片\" style=\"width: 500px\">\n          <div class=\"IconClass\">\n            <img v-if=\"commodity.commodityIcon\" v-for=\"tag in commodityIconArray\" :src=\"tag\" class=\"avatar\" >\n          </div>\n          <el-upload\n            action=\"#\"\n            list-type=\"picture-card\"\n            :on-preview=\"handlePictureCardPreview\"\n            :on-remove=\"handleRemove\"\n            :before-upload=\"beforeAvatarUpload\"\n            :file-list=\"fileList\"\n            multiple\n            :http-request=\"uploadFile\"\n            class=\"avatar-uploader\"\n            accept=\".jpg,.jpeg,.png,.gif\">\n            &lt;!&ndash;<img v-if=\"commodity.commodityIcon\" :src=\"commodity.commodityIcon\" class=\"avatar\">&ndash;&gt;\n            <img v-if=\"commodity.commodityIcon\" v-for=\"tag in commodityIconArray\" :src=\"tag\" class=\"avatar\">\n\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"/>\n          </el-upload>\n\n          <el-dialog :visible.sync=\"dialogVisible\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>-->\n\n        <el-form-item label=\"商品图片\">\n          <ul v-if=\"commodityIconArray\" class=\"img-box\">\n            <li v-for=\"(item,index) in commodityIconArray\" :key=\"index\" class=\"img-item\" @mouseenter=\"showmask(index)\"\n                @mouseleave=\"hiddenmask(index)\">\n              <div class=\"mask\" ref=\"mask\">\n                <i class=\"el-icon-zoom-in\" @click=\"scaleImg(index)\"></i>\n                <i class=\"el-icon-delete\" @click=\"deleteImg(index)\"></i>\n              </div>\n              <img :src=\"item\" class=\"avatar\">\n            </li>\n          </ul>\n          <ul v-if=\"commodityIconArray.length < 5\">\n            <el-upload :action=\"uploadPath\"\n                       :on-success=\"muluploadSuccess\"\n                       :show-file-list=\"false\"\n                       list-type=\"picture-card\"\n                       :limit=\"1\"\n                       :file-list=\"fileList\"\n                       multiple\n            >\n              <i class=\"el-icon-plus avatar-uploader-icon\" style=\"width:150px; height:150px\"></i>\n            </el-upload>\n          </ul>\n\n          <el-dialog :visible.sync=\"dialogVisible\" size=\"tiny\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n\n        </el-form-item>\n\n        <el-form-item label=\"商品型号：\" >\n          <el-input v-model=\"commodity.model\"/>\n        </el-form-item>\n\n        <el-form-item label=\"商品规格：\" >\n          <el-input v-model=\"commodity.specification\"/>\n        </el-form-item>\n\n<!--        <el-form-item label=\"商品租赁单位\">\n          <el-input v-model=\"commodity.unit\" placeholder=\"天 / 月 \"/>\n        </el-form-item>-->\n\n\n        <el-form-item label=\"商品详细介绍\">\n          <quillEditor ref=\"myTextEditor\" v-model=\"commodity.introduce\" :options=\"quillOption\"></quillEditor>\n        </el-form-item>\n\n\n\n      </el-form>\n    </el-card>\n\n<!--    <el-card class=\"box-card\">\n      <h3>商品规格</h3>\n      <el-button :plain=\"true\" type=\"primary\" @click=\"handleSpecificationShow\">添加</el-button>\n\n      <el-table :data=\"specifications\">\n        <el-table-column property=\"specification\" label=\"规格名\" />\n        <el-table-column property=\"value\" label=\"规格值\" >\n          <template slot-scope=\"scope\">\n            <el-tag type=\"primary\">\n              {{ scope.row.value }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column property=\"picUrl\" label=\"规格图片\">\n          <template slot-scope=\"scope\">\n            <img v-if=\"scope.row.picUrl\" :src=\"scope.row.picUrl\" width=\"40\">\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"操作\" width=\"250\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"danger\" size=\"mini\" @click=\"handleSpecificationDelete(scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog :visible.sync=\"specVisiable\" title=\"设置规格\">\n        <el-form ref=\"specForm\" :rules=\"rules\" :model=\"specForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n          <el-form-item label=\"规格名\" prop=\"specification\">\n            <el-input v-model=\"specForm.specification\"/>\n          </el-form-item>\n          <el-form-item label=\"规格值\" prop=\"value\">\n            <el-input v-model=\"specForm.value\"/>\n          </el-form-item>\n          <el-form-item label=\"规格图片\" prop=\"picUrl\">\n            <el-upload\n              :action=\"uploadPath\"\n              :show-file-list=\"false\"\n              :on-success=\"uploadSpecPicUrl\"\n              class=\"avatar-uploader\"\n              accept=\".jpg,.jpeg,.png,.gif\">\n              <img v-if=\"specForm.picUrl\" :src=\"specForm.picUrl\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"/>\n            </el-upload>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"specVisiable = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"handleSpecificationAdd\">确定</el-button>\n        </div>\n      </el-dialog>\n    </el-card>-->\n\n<!--    <el-card class=\"box-card\">\n      <h3>商品库存</h3>\n      <el-table :data=\"stocks\">\n        <el-table-column property=\"value\" label=\"货品规格\" >\n          <template slot-scope=\"scope\">\n            <el-tag v-for=\"tag in scope.row.specifications\" :key=\"tag\">\n              {{ tag }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column property=\"salePrice\" width=\"100\" label=\"货品售价\"/>\n        <el-table-column property=\"stock\" width=\"100\" label=\"货品数量\"/>\n        <el-table-column property=\"url\" width=\"100\" label=\"货品图片\">\n          <template slot-scope=\"scope\">\n            <img v-if=\"scope.row.url\" :src=\"scope.row.url\" width=\"40\">\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"操作\" width=\"100\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleProductShow(scope.row)\">设置</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog :visible.sync=\"productVisiable\" title=\"设置货品\">\n        <el-form ref=\"productForm\" :model=\"productForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n          <el-form-item label=\"货品规格列\" prop=\"specifications\">\n            <el-tag v-for=\"tag in productForm.specifications\" :key=\"tag\">\n              {{ tag }}\n            </el-tag>\n          </el-form-item>\n          <el-form-item label=\"货品售价\" prop=\"price\">\n            <el-input v-model=\"productForm.salePrice\"/>\n          </el-form-item>\n          <el-form-item label=\"货品数量\" prop=\"number\">\n            <el-input v-model=\"productForm.stock\"/>\n          </el-form-item>\n          <el-form-item label=\"货品图片\" prop=\"url\">\n            <el-upload\n              action=\"#\"\n              :limit=\"5\"\n              :show-file-list=\"false\"\n              :on-change=\"handlePictureCardPreview\"\n              before-upload=\"beforeUploadImage\"\n              :on-success=\"uploadProductUrl\"\n              class=\"avatar-uploader\"\n              accept=\".jpg,.jpeg,.png,.gif\">\n              <img v-if=\"productForm.url\" :src=\"productForm.url\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"/>\n            </el-upload>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"productVisiable = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"handleProductEdit\">确定</el-button>\n        </div>\n      </el-dialog>\n    </el-card>-->\n\n    <!--<el-card class=\"box-card\">\n      <h3>商品参数</h3>\n      <el-button :plain=\"true\" type=\"primary\" @click=\"handleAttributeShow\">添加</el-button>\n      <el-table :data=\"attributes\">\n        <el-table-column property=\"attribute\" label=\"商品参数名称\"/>\n        <el-table-column property=\"value\" label=\"商品参数值\"/>\n        <el-table-column align=\"center\" label=\"操作\" width=\"100\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"danger\" size=\"mini\" @click=\"handleAttributeDelete(scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog :visible.sync=\"attributeVisiable\" title=\"设置商品参数\">\n        <el-form ref=\"attributeForm\" :model=\"attributeForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n          <el-form-item label=\"商品参数名称\" prop=\"attribute\">\n            <el-input v-model=\"attributeForm.attribute\"/>\n          </el-form-item>\n          <el-form-item label=\"商品参数值\" prop=\"value\">\n            <el-input v-model=\"attributeForm.value\"/>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"attributeVisiable = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"handleAttributeAdd\">确定</el-button>\n        </div>\n      </el-dialog>\n    </el-card>-->\n\n    <div class=\"op-container\">\n      <el-button @click=\"handleCancel\">取消</el-button>\n      <el-button type=\"primary\" @click=\"handleEdit\">更新商品</el-button>\n    </div>\n\n  </div>\n</template>\n\n<style >\n .img-box {\n   display: flex;\n   flex-wrap: wrap;\n }\n .img-item {\n   justify-content: space-around;\n   width: 148px;\n   height: 148px;\n   margin: 0 5px;\n   overflow: hidden;\n   border-radius: 6px;\n   position: relative;\n }\n .img-box > img {\n   width: 100%;\n   height: 100%;\n }\n\n  .mask{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    background: rgba(255,255,255,.5);\n    top: 0;\n    left: 0;\n  }\n .mask  i{\n   color: #fff;\n   font-weight: 400;\n   font-size: 18px;\n   margin: 0 10px;\n }\n\n\n      .el-form-item__content  >  div  {\n            float:  left;\n  }\n\n      .el-form-item__content ul  {\n            float:  left;\n  }\n\n  .el-card {\n    margin-bottom: 10px;\n  }\n\n  .el-tag + .el-tag {\n    margin-left: 10px;\n  }\n\n  .input-new-keyword {\n    width: 90px;\n    margin-left: 10px;\n    vertical-align: bottom;\n  }\n\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .avatar-uploader .el-upload:hover {\n    border-color: #20a0ff;\n  }\n\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n  }\n\n  .avatar {\n    width: 100%;\n    height: 100%;\n    display: block;\n  }\n\n  .IconClass {\n    display: flex;\n    justify-content: flex-start;\n  }\n</style>\n\n<script>\n    import { getCommodity, updateCommodity } from '@/api/commodity'\n    import { uploadPath } from '@/api/storage'\n    import { MessageBox } from 'element-ui'\n    import {quillEditor} from 'vue-quill-editor';\n    import quillConfig from '@/utils/quill-config.js'\n\n    import 'quill/dist/quill.core.css'\n    import 'quill/dist/quill.snow.css'\n    import 'quill/dist/quill.bubble.css'\n    export default {\n        name: 'GoodsEdit',\n        components: { quillEditor },\n        data() {\n            return {\n                gdialogVisible:false,\n                gdialogImageUrl:'',\n                dialogVisible:false,\n                dialogImageUrl:'',\n                quillOption: quillConfig,\n                editor: null,\n                params : new FormData(),\n                dialogImageUrl: '',\n                fileList: [],\n                dat: {\n                    content: ''\n                },\n                ueditor: {\n                    value: '编辑器默认文字',\n                    config: {\n                        initialFrameWidth: 800,\n                        initialFrameHeight: 320\n                    }\n                },\n                uploadPath,\n                commodityIconArray: [],\n                newKeywordVisible: false,\n                newKeyword: '',\n                selectProductTypeValue: null,\n                keywords: [],\n                brandOptions: [],\n                productType: [],\n                categoryList: [],\n                //product: { gallery: [] },\n                commodity: {\n                    commodityId: '',\n                    commodityName: '',\n                    commodityType: '',\n                    salePrice: '',\n                    purchasePrice: '',\n                    isScoreProduct: '',\n                    scoreProportion: '',\n                    commodityIcon: '',\n                    rent: '',\n                    location: '',\n                    unit: '',\n                    specification: '',\n                    productionPlace: '',\n                    productProfile: '',\n                    material: '',\n                    description: '',\n                    model: '',\n                    brand: ''\n                },\n                productTypeOptions: [],\n                specVisiable: false,\n                specForm: { specification: '', value: '', picUrl: '' },\n                specifications: [{ specification: '规格', value: '标准', picUrl: '' }],\n                productVisiable: false,\n                productForm: {\n                    id: 0,\n                    specifications: [],\n                    salePrice: 0.0,\n                    stock: 0,\n                    url: ''\n                },\n                stocks: [\n                    { stockId: 0, specifications: ['标准'], salePrice: 0.0, stock: 0, url: '' }\n                ],\n                attributeVisiable: false,\n                attributeForm: { attribute: '', value: '' },\n                attributes: [],\n                rules: {\n                    productId: [\n                        {required: true, message: '商品编号不能为空', trigger: 'blur'}\n                    ],\n                    commodityName: [{required: true, message: '严选商品名称不能为空', trigger: 'blur'}],\n                    rent: [{required: true, message: '严选商品租金不能为空', trigger: 'blur'}]\n                },\n                editorInit: {\n                    language: 'zh_CN',\n                    convert_urls: false,\n                    plugins: [\n                        'advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount'\n                    ],\n                    toolbar: [\n                        'searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample',\n                        'hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen'\n                    ]\n\n                }\n            }\n        },\n        watch: {\n            selectProductTypeValue: function (newValue) {\n\n                if (newValue != null && newValue.length === 2) {\n                    this.product.productType = newValue[1];\n                } else {\n                    this.product.productType = null;\n                }\n\n            }\n        },\n        created() {\n            this.init();\n\n        },\n        mounted(){\n\n        },\n        methods: {\n            init: function () {\n                if (this.$route.query.commodityId == null) {\n                    return\n                }\n\n                let params = new URLSearchParams();\n                params.append(\"commodityId\", this.$route.query.commodityId);\n                params.append(\"queryType\", this.$route.query.queryType);\n\n                getCommodity(params).then(response => {\n\n                    this.commodity.commodityName = response.data.commodityName;\n                    this.commodity.commodityId = response.data.commodityId;\n                    this.commodity.brand = response.data.brand;\n                    this.commodity.location = response.data.location;\n                    this.commodity.model = response.data.model;\n                    this.commodity.introduce = response.data.introduce;\n                    this.commodity.companyName = response.data.companyName;\n                    this.commodity.rent = response.data.rent;\n                    this.commodity.commodityIcon = response.data.commodityIcon;\n                    //遍历图片\n                    this.commodityIconArray = response.data.commodityIcon.split(\",\");\n                    console.log(\"commodityIconArray.length：\" + this.commodityIconArray.length);\n                    this.commodity.unit = response.data.unit;\n                    this.commodity.power = response.data.power;\n\n                    this.commodity.scoreProportion = response.data.scoreProportion;\n                    this.commodity.material = response.data.material;\n                    this.commodity.productionPlace = response.data.productionPlace;\n                    this.commodity.productProfile = response.data.productProfile;\n                    this.commodity.specification = response.data.specification;\n                    //this.product.brand= response.data.brandId;\n                    const typeProduct = response.data.productType;\n                    this.specifications = response.data.specificationsList;\n                    this.stocks = response.data.stockList;\n\n                    this.attributes = response.data.attributes;\n                    //this.getProductCateList(typeProduct);\n                    //this.getBrandList();\n                }).catch(err=>{console.log(err)});\n\n            },\n            beforeUploadImage(file) {\n                this.product.append('file', file)\n                return false\n            },\n            handleCategoryChange(value) {\n                this.product.categoryId = value[value.length - 1]\n            },\n            handleCancel: function() {\n                this.$router.push({ path: '/pms/product' })\n            },\n            handleEdit: function () {\n                let commodityIcon = '';\n                for (let i = 0; i < this.commodityIconArray.length; i++) {\n                    console.log(this.commodityIconArray[i]);\n                    commodityIcon = commodityIcon + this.commodityIconArray[i] + \",\"\n                }\n                this.commodity.commodityIcon = commodityIcon.substring(0, commodityIcon.length - 1);\n                console.log(\"commodityIcon----\" + this.commodity.commodityIcon);\n\n                const finalGoods = {\n                    commodity: this.commodity,\n                    specifications: this.specifications,\n                    stocks: this.stocks,\n                    attributes: this.attributes\n                };\n                console.log(\"commodityIconArray.length----\" + this.commodityIconArray.length);\n                console.log(\"commodityIconArray----\" + this.commodityIconArray);\n                console.log(\"commodity----\"+JSON.stringify(finalGoods.commodity));\n                console.log(\"product----\"+JSON.stringify(finalGoods.product));\n                console.log(\"specifications----\"+JSON.stringify(finalGoods.specifications));\n                console.log(\"stocks----\"+JSON.stringify(finalGoods.stocks));\n                console.log(\"attributes----\"+JSON.stringify(finalGoods.attributes));\n\n                let params = new URLSearchParams;\n                params.append(\"stocks\",JSON.stringify(this.stocks));\n                params.append(\"commodity\",JSON.stringify(this.commodity));\n                params.append(\"specification\",JSON.stringify(this.specifications));\n                params.append(\"attributes\",JSON.stringify(this.attributes));\n                params.append(\"finalGoods\",JSON.stringify(finalGoods.product));\n\n/*\n                let commodity = {\n                    \"commodityId\": this.commodity.commodityId,\n                    \"commodityName\": this.commodity.commodityName,\n                    \"rent\": this.commodity.rent,\n                    \"brand\": this.commodity.brand,\n                    \"commodityId\": this.commodity.commodityId,\n                    \"commodityId\": this.commodity.commodityId\n                }\n*/\n\n                updateCommodity(params)\n                    .then(response => {\n                        this.$notify.success({\n                            title: '成功',\n                            message: '更新成功'\n                        })\n                        this.$router.push({ path: '/wms/commodity' })\n                    })\n                    .catch(response => {\n                        MessageBox.alert('业务错误：' + response.data.errmsg, '警告', {\n                            confirmButtonText: '确定',\n                            type: 'error'\n                        })\n                    })\n            },\n\n            handleResetSearch() {\n                this.selectProductTypeValue = [];\n                this.listQuery = Object.assign({}, defaultListQuery);\n            },\n            handleClose(tag) {\n                this.keywords.splice(this.keywords.indexOf(tag), 1)\n                this.product.keywords = this.keywords.toString()\n            },\n            showInput() {\n                this.newKeywordVisible = true\n                this.$nextTick(_ => {\n                    this.$refs.newKeywordInput.$refs.input.focus()\n                })\n            },\n            handleInputConfirm() {\n                const newKeyword = this.newKeyword\n                if (newKeyword) {\n                    this.keywords.push(newKeyword)\n                    this.product.keywords = this.keywords.toString()\n                }\n                this.newKeywordVisible = false\n                this.newKeyword = ''\n            },\n            uploadPicUrl: function(response) {\n                this.product.productIcon = response.data\n            },\n            uploadOverrun: function() {\n                this.$message({\n                    type: 'error',\n                    message: '上传文件个数超出限制!最多上传5张图片!'\n                })\n            },\n            handleGalleryUrl(response, file, fileList) {\n                if (response.errno === 0) {\n                    this.product.gallery.push(response.data)\n                }\n            },\n            handlePictureCardPreview(file) {\n                this.dialogImageUrl = file.url;\n                this.dialogVisible = true\n            },\n            handleRemove: function(file, fileList) {\n                for (var i = 0; i < this.product.gallery.length; i++) {\n                    // 这里存在两种情况\n                    // 1. 如果所删除图片是刚刚上传的图片，那么图片地址是file.response.data.url\n                    //    此时的file.url虽然存在，但是是本机地址，而不是远程地址。\n                    // 2. 如果所删除图片是后台返回的已有图片，那么图片地址是file.url\n                    var url\n                    if (file.response === undefined) {\n                        url = file.url\n                    } else {\n                        url = file.response.data\n                    }\n\n                    if (this.product.gallery[i] === url) {\n                        this.product.gallery.splice(i, 1)\n                    }\n                }\n            },\n            beforeAvatarUpload(file) {\n\n                const isJPG = file.type === 'image/jpeg'\n                const isPng = file.type === 'image/png'\n                const isLt2M = file.size / 1024 / 1024 < 2\n\n                if (!isJPG && !isPng) {\n                    this.$message.error('上传图片只能是 JPG或png 格式!')\n                }\n                if (!isLt2M) {\n                    this.$message.error('上传图片大小不能超过 2MB!')\n                }\n\n                return (isJPG || isPng) && isLt2M\n            },\n            uploadFile(file){\n                this.params.append('file', file.file);\n                return false;\n            },\n            specChanged: function(label) {\n                if (label === false) {\n                    this.specifications = [\n                        { specification: '规格', value: '标准', picUrl: '' }\n                    ]\n                    this.stocks = [\n                        { stockId: 0, specifications: ['标准'], salePrice: 0.0, stock: 0, url: '' }\n                    ]\n                } else {\n                    this.specifications = []\n                    this.stocks = []\n                }\n            },\n            uploadSpecPicUrl: function(response) {\n                this.specForm.picUrl = response.data\n            },\n            handleSpecificationShow() {\n                this.specForm = { specification: '', value: '', picUrl: '' }\n                this.specVisiable = true\n            },\n            handleSpecificationAdd() {\n                var index = this.specifications.length - 1\n                for (var i = 0; i < this.specifications.length; i++) {\n                    const v = this.specifications[i]\n                    if (v.specification === this.specForm.specification) {\n                        index = i\n                    }\n                }\n\n                this.specifications.splice(index + 1, 0, this.specForm)\n                this.specVisiable = false\n\n                this.specToProduct()\n            },\n            handleSpecificationDelete(row) {\n                const index = this.specifications.indexOf(row)\n                this.specifications.splice(index, 1)\n                this.specToProduct()\n            },\n            specToProduct() {\n                if (this.specifications.length === 0) {\n                    return\n                }\n                // 根据specifications创建临时规格列表\n                var specValues = []\n                var spec = this.specifications[0].specification\n                var values = []\n                values.push(0)\n\n                for (var i = 1; i < this.specifications.length; i++) {\n                    const aspec = this.specifications[i].specification\n\n                    if (aspec === spec) {\n                        values.push(i)\n                    } else {\n                        specValues.push(values)\n                        spec = aspec\n                        values = []\n                        values.push(i)\n                    }\n                }\n                specValues.push(values)\n\n                // 根据临时规格列表生产货品规格\n                // 算法基于 https://blog.csdn.net/tyhj_sf/article/details/53893125\n                var productsIndex = 0\n                var stocks = []\n                var combination = []\n                var n = specValues.length\n                for (var s = 0; s < n; s++) {\n                    combination[s] = 0\n                }\n                var index = 0\n                var isContinue = false\n                do {\n                    var specifications = []\n                    for (var x = 0; x < n; x++) {\n                        var z = specValues[x][combination[x]]\n                        specifications.push(this.specifications[z].value)\n                    }\n                    stocks[productsIndex] = {\n                        stockId: productsIndex,\n                        specifications: specifications,\n                        salePrice: 0.0,\n                        stock: 0,\n                        url: ''\n                    }\n                    productsIndex++\n\n                    index++\n                    combination[n - 1] = index\n                    for (var j = n - 1; j >= 0; j--) {\n                        if (combination[j] >= specValues[j].length) {\n                            combination[j] = 0\n                            index = 0\n                            if (j - 1 >= 0) {\n                                combination[j - 1] = combination[j - 1] + 1\n                            }\n                        }\n                    }\n                    isContinue = false\n                    for (var p = 0; p < n; p++) {\n                        if (combination[p] !== 0) {\n                            isContinue = true\n                        }\n                    }\n                } while (isContinue)\n\n                this.stocks = stocks\n            },\n            handleProductShow(row) {\n\n                this.productForm = Object.assign({}, row)\n                this.productVisiable = true\n            },\n            uploadProductUrl: function(response) {\n                this.productForm.url = response.data.url\n            },\n            handleProductEdit() {\n              console.log(this.stocks);\n\n                for (var i = 0; i < this.stocks.length; i++) {\n                    const v = this.stocks[i]\n                    if (v.stockId === this.productForm.id) {\n                        this.stocks.splice(i, 1, this.productForm)\n                        break\n                    }\n                }\n                this.productVisiable = false\n            },\n            handleAttributeShow() {\n                this.attributeForm = {}\n                this.attributeVisiable = true\n            },\n            handleAttributeAdd() {\n                this.attributes.unshift(this.attributeForm)\n                this.attributeVisiable = false\n            },\n            handleAttributeDelete(row) {\n                const index = this.attributes.indexOf(row)\n                this.attributes.splice(index, 1)\n            },\n            // 鼠标移动上图片\n            showmask(index){\n                this.$refs.mask[index].style.display='block';\n            },\n            // 鼠标离开图片\n            hiddenmask(index){\n                this.$refs.mask[index].style.display='none';\n            },\n            //点击放大图片\n            scaleImg(index){\n                this.dialogVisible=true;\n                this.dialogImageUrl = this.commodityIconArray[index];\n            },\n            deleteImg(index){\n                this.commodityIconArray.splice(index,1);\n                this.fileList.splice(index,1);\n            },\n            muluploadSuccess(res){\n                this.commodityIconArray.push(res.data);\n                let obj={};\n                obj={\n                    name:'file',\n                    url:res.data,\n                };\n                this.fileList.push(obj);\n\n            }\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/wms/commodity/update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"box-card\"},[_c('h3',[_vm._v(\"商品介绍\")]),_vm._v(\" \"),_c('el-form',{ref:\"product\",attrs:{\"rules\":_vm.rules,\"model\":_vm.commodity,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"commodityName\"}},[_c('el-input',{model:{value:(_vm.commodity.commodityName),callback:function ($$v) {_vm.$set(_vm.commodity, \"commodityName\", $$v)},expression:\"commodity.commodityName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品品牌：\"}},[_c('el-input',{model:{value:(_vm.commodity.brand),callback:function ($$v) {_vm.$set(_vm.commodity, \"brand\", $$v)},expression:\"commodity.brand\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"地址：\"}},[_c('el-input',{model:{value:(_vm.commodity.location),callback:function ($$v) {_vm.$set(_vm.commodity, \"location\", $$v)},expression:\"commodity.location\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"1400px\"},attrs:{\"label\":\"租金：\",\"prop\":\"rent\"}},[_c('el-input',{model:{value:(_vm.commodity.rent),callback:function ($$v) {_vm.$set(_vm.commodity, \"rent\", $$v)},expression:\"commodity.rent\"}},[_c('template',{slot:\"append\"},[_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.commodity.unit),callback:function ($$v) {_vm.$set(_vm.commodity, \"unit\", $$v)},expression:\"commodity.unit\"}})],1)],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品图片\"}},[(_vm.commodityIconArray)?_c('ul',{staticClass:\"img-box\"},_vm._l((_vm.commodityIconArray),function(item,index){return _c('li',{key:index,staticClass:\"img-item\",on:{\"mouseenter\":function($event){return _vm.showmask(index)},\"mouseleave\":function($event){return _vm.hiddenmask(index)}}},[_c('div',{ref:\"mask\",refInFor:true,staticClass:\"mask\"},[_c('i',{staticClass:\"el-icon-zoom-in\",on:{\"click\":function($event){return _vm.scaleImg(index)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deleteImg(index)}}})]),_vm._v(\" \"),_c('img',{staticClass:\"avatar\",attrs:{\"src\":item}})])}),0):_vm._e(),_vm._v(\" \"),(_vm.commodityIconArray.length < 5)?_c('ul',[_c('el-upload',{attrs:{\"action\":_vm.uploadPath,\"on-success\":_vm.muluploadSuccess,\"show-file-list\":false,\"list-type\":\"picture-card\",\"limit\":1,\"file-list\":_vm.fileList,\"multiple\":\"\"}},[_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\",staticStyle:{\"width\":\"150px\",\"height\":\"150px\"}})])],1):_vm._e(),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"size\":\"tiny\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品型号：\"}},[_c('el-input',{model:{value:(_vm.commodity.model),callback:function ($$v) {_vm.$set(_vm.commodity, \"model\", $$v)},expression:\"commodity.model\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品规格：\"}},[_c('el-input',{model:{value:(_vm.commodity.specification),callback:function ($$v) {_vm.$set(_vm.commodity, \"specification\", $$v)},expression:\"commodity.specification\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品详细介绍\"}},[_c('quillEditor',{ref:\"myTextEditor\",attrs:{\"options\":_vm.quillOption},model:{value:(_vm.commodity.introduce),callback:function ($$v) {_vm.$set(_vm.commodity, \"introduce\", $$v)},expression:\"commodity.introduce\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"op-container\"},[_c('el-button',{on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleEdit}},[_vm._v(\"更新商品\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8052f398\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/wms/commodity/update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8052f398\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./update.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8052f398\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wms/commodity/update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}