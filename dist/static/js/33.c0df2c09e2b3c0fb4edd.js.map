{"version":3,"sources":["webpack:///./src/api/purchaseRule.js","webpack:///src/views/pms/purchaseRule/index.vue","webpack:///./src/views/pms/purchaseRule/index.vue?9ba5","webpack:///./src/views/pms/purchaseRule/index.vue"],"names":["__webpack_exports__","params","request","url","method","data","purchaseRuleId","__WEBPACK_IMPORTED_MODULE_0__utils_request__","__webpack_require__","defaultListQuery","pageNum","pageSize","productName","defaultflashPromotion","discount","minAmount","price","saleAmount","productRelationList","pms_purchaseRule","name","list","total","listLoading","operateType","listQuery","assign_default","purchaseRule","selectProduct","multipleSelection","selectProductOptions","purchaseRuleDialog","isEdit","operates","label","value","rules","type","required","message","trigger","prices","created","this","getList","methods","_this","Object","then","response","searchBrandList","addPurchaseRule","handleSelectionChange","val","handleBatchOperate","$message","duration","ids","i","length","push","id","handleDeleteProductAttr","handleSizeChange","handleCurrentChange","handleUpdate","index","row","ruleId","_this2","$confirm","confirmButtonText","cancelButtonText","URLSearchParams","append","handleDelete","searchProductMethod","query","_this3","loading","product","productList","item","productId","handleAddProductRelation","getProductById","handleDeleteProductRelation","splice","handleSelectDialogConfirm","_this4","console","log","filters","inputTypeFilter","selectTypeFilter","views_pms_purchaseRule","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","_v","staticStyle","float","size","on","click","$event","margin-top","inline","model","label-width","width","placeholder","callback","$$v","$set","expression","directives","rawName","ref","border","selection-change","align","scopedSlots","_u","key","fn","scope","_s","height","src","productIcon","active-value","inactive-value","change","handleNewStatusChange","$index","_l","margin-left","background","layout","page-size","page-sizes","current-page","size-change","current-change","update:currentPage","update:current-page","title","visible","update:visible","filterable","remote","reserve-keyword","remote-method","color","font-size","slot","prop","_n","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/33.c0df2c09e2b3c0fb4edd.js","sourcesContent":["import request from '@/utils/request'\nexport function fetchList(params) {\n  return request({\n    url:'/purchaseRule/getPurchaseRuleList',\n    method:'get',\n    params:params\n  })\n}\n\nexport function deletePurchaseRule(data) {\n  return request({\n    url:'/purchaseRule/delete',\n    method:'post',\n    data:data\n  })\n}\n\nexport function createPurchaseRule(data) {\n  return request({\n    url:'/purchaseRule/addPurchaseRule',\n    method:'post',\n    data:data\n  })\n}\n\nexport function updatePurchaseRule(purchaseRuleId,data) {\n  return request({\n    url:'/purchaseRule/modifyPurchaseRule/'+purchaseRuleId,\n    method:'post',\n    data:data\n  })\n}\nexport function getPurchaseRule(ruleId) {\n  return request({\n    url:'/purchaseRule/getPurchaseRuleById/'+ruleId,\n    method:'get'\n  })\n}\n\nexport function getPurchaseRuleInfo(productCategoryId) {\n  return request({\n    url:'/purchaseRule/attrInfo/'+productCategoryId,\n    method:'get'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/purchaseRule.js","<template> \n  <div class=\"app-container\">\n\n    <el-card class=\"filter-container\" shadow=\"never\">\n      <div>\n        <i class=\"el-icon-search\"></i>\n        <span>筛选搜索</span>\n        <el-button\n          style=\"float: right\"\n          @click=\"searchBrandList()\"\n          type=\"primary\"\n          size=\"small\">\n          查询结果\n        </el-button>\n      </div>\n      <div style=\"margin-top: 15px\">\n        <el-form :inline=\"true\" :model=\"listQuery\" size=\"small\" label-width=\"140px\">\n          <el-form-item label=\"输入搜索：\">\n            <el-input style=\"width: 203px\" v-model=\"listQuery.productName\" placeholder=\"商品名称\"></el-input>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n    <el-card class=\"operate-container\" shadow=\"never\">\n\n      <i class=\"el-icon-tickets\" style=\"margin-top: 5px\"></i>\n      <span style=\"margin-top: 5px\">数据列表</span>\n      <el-button\n        class=\"btn-add\"\n        @click=\"addPurchaseRule()\"\n        size=\"mini\">\n        添加\n      </el-button>\n    </el-card>\n    <div class=\"table-container\">\n      <el-table ref=\"productAttrTable\"\n                :data=\"list\"\n                style=\"width: 100%\"\n                @selection-change=\"handleSelectionChange\"\n                v-loading=\"listLoading\"\n                border>\n        <el-table-column type=\"selection\" width=\"60\" align=\"center\"></el-table-column>\n        <el-table-column label=\"编号\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.ruleId}}</template>\n        </el-table-column>\n        <el-table-column label=\"商品名称\"  align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.productName}}</template>\n        </el-table-column>\n        <el-table-column label=\"商品图片\" width=\"120\" align=\"center\">\n          <template slot-scope=\"scope\"><img style=\"height: 80px\" :src=\"scope.row.productIcon\"></template>\n        </el-table-column>\n        <el-table-column label=\"最小数量\" width=\"140\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.minAmount}}</template>\n        </el-table-column>\n        <el-table-column label=\"折扣\" width=\"120\" align=\"center\">\n          <template slot-scope=\"scope\"> <p>{{scope.row.discount}}%</p></template>\n        </el-table-column>\n        <el-table-column label=\"价格\" width=\"150\" align=\"center\">\n          <template slot-scope=\"scope\"> <p>{{scope.row.price}}￥</p></template>\n        </el-table-column>\n\n        <el-table-column label=\"销量\" width=\"140\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.saleAmount}}</template>\n        </el-table-column>\n        <el-table-column label=\"状态\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <p>\n              <el-switch\n                @change=\"handleNewStatusChange(scope.$index, scope.row)\"\n                :active-value=\"true\"\n                :inactive-value=\"false\"\n                v-model=\"scope.row.activated\">\n              </el-switch>\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"200\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              @click=\"handleUpdate(scope.$index, scope.row)\">编辑\n            </el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"handleDelete(scope.$index, scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"batch-operate-container\">\n      <el-select\n        size=\"small\"\n        v-model=\"operateType\" placeholder=\"批量操作\">\n        <el-option\n          v-for=\"item in operates\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\">\n        </el-option>\n      </el-select>\n      <el-button\n        style=\"margin-left: 20px\"\n        class=\"search-button\"\n        @click=\"handleBatchOperate()\"\n        type=\"primary\"\n        size=\"small\">\n        确定\n      </el-button>\n    </div>\n    <div class=\"pagination-container\">\n      <el-pagination\n        background\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        layout=\"total, sizes,prev, pager, next,jumper\"\n        :page-size=\"listQuery.pageSize\"\n        :page-sizes=\"[5,10,15]\"\n        :current-page.sync=\"listQuery.pageNum\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n\n\n    <el-dialog title=\"添加/修改 进货规则\" :visible.sync=\"purchaseRuleDialog\" width=\"50%\">\n      <el-form :model=\"purchaseRule\"\n               ref=\"flashPromotionForm\"\n               label-width=\"150px\" size=\"small\">\n        <el-form-item label=\"选择商品\">\n          <el-select\n            v-model=\"selectProduct\"\n            filterable\n            remote\n            reserve-keyword\n            placeholder=\"商品名称/商品货号\"\n            :remote-method=\"searchProductMethod\">\n            <el-option\n              v-for=\"item in selectProductOptions\"\n              :key=\"item.productId\"\n              :label=\"item.productName\"\n              :value=\"item.productId\">\n              <span style=\"float: left\">{{ item.productName }}</span>\n              <span style=\"float: right; color: #8492a6; font-size: 13px\">NO.{{ item.productId }}</span>\n            </el-option>\n          </el-select>\n          <el-button @click=\"handleAddProductRelation()\">添加</el-button>\n          <el-table ref=\"productRelationTable\"\n                    :data=\"purchaseRule.productRelationList\"\n                    style=\"width: 100%;margin-top: 20px\"\n                    border>\n            <el-table-column label=\"ID\" align=\"center\"  width=\"120\" >\n              <template slot-scope=\"scope\">NO.{{scope.row.productId}}</template>\n            </el-table-column>\n            <el-table-column label=\"商品名称\" align=\"center\">\n              <template slot-scope=\"scope\">{{scope.row.productName}}</template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\"\n                           type=\"text\"\n                           @click=\"handleDeleteProductRelation(scope.$index, scope.row)\">删除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-form-item>\n\n        <el-form-item label=\"折扣：\">\n          <el-input v-model=\"purchaseRule.discount\" placeholder=\"只能输入正整数\" style=\"width: 400px\">\n            <template slot=\"append\">%</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"最少数量：\" prop=\"minAmount\">\n          <el-input v-model=\"purchaseRule.minAmount\" style=\"width: 400px\">\n          <template slot=\"append\">件</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"价格：\" prop=\"prices\">\n          <el-input v-model.number=\"purchaseRule.price\" style=\"width: 400px\">\n            <template slot=\"append\">元</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"销量：\" prop=\"saleAmount\">\n          <el-input v-model.number=\"purchaseRule.saleAmount\"  style=\"width: 400px\">\n            <template slot=\"append\">件</template>\n          </el-input>\n        </el-form-item>\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button  size=\"small\" @click=\"purchaseRuleDialog = false\">取 消</el-button>\n        <el-button  size=\"small\" type=\"primary\" @click=\"handleSelectDialogConfirm()\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n\n  </div>\n</template>\n<script>\n  import {fetchList, deletePurchaseRule,createPurchaseRule,updatePurchaseRule} from '@/api/purchaseRule'\n  import {fetchList as fetchProductList} from '@/api/product';\n  const defaultListQuery = {\n      pageNum: 1,\n      pageSize: 5,\n      productName:null\n  };\n  const defaultflashPromotion = {\n      discount:null,\n      minAmount:null,\n      price:null,\n      saleAmount:null,\n      productRelationList:[]\n  };\n  export default {\n    name: 'productAttrList',\n    data() {\n      return {\n        list: null,\n        total: null,\n        listLoading: true,\n        operateType: null,\n        listQuery: Object.assign({}, defaultListQuery),\n        purchaseRule:Object.assign({},defaultflashPromotion),\n          selectProduct:null,\n        multipleSelection: [],\n          selectProductOptions:[],\n        purchaseRuleDialog:false,\n          isEdit:false,\n        operates: [\n          {\n            label: \"删除\",\n            value: \"deletePurchaseRule\"\n          }\n        ],\n          rules: {\n              minAmount: [\n                  {type: 'number', required: true, message: '只能输入正整数', trigger: 'blur'}\n              ],\n              prices: [\n                  {type: 'number', required: true, message: '面值只能是数值，0.01-10000，限2位小数', trigger: 'blur'}\n              ],\n              saleAmount: [\n                  {type: 'number', required: true, message: '只能输入正整数', trigger: 'blur'}\n              ]\n          },\n      }\n    },\n    created() {\n      this.getList();\n    },\n    methods: {\n      getList() {\n        this.listLoading = true;\n        fetchList(this.listQuery).then(response => {\n          this.listLoading = false;\n          this.list = response.data;\n          this.total = response.total;\n        });\n      },\n        searchBrandList() {\n            this.listQuery.pageNum = 1;\n            this.getList();\n        },\n      addPurchaseRule() {\n          this.purchaseRuleDialog = true;\n          this.isEdit = false;\n          this.purchaseRule = Object.assign({},defaultflashPromotion);\n      },\n      handleSelectionChange(val) {\n        this.multipleSelection = val;\n      },\n      handleBatchOperate() {\n        if (this.multipleSelection < 1) {\n          this.$message({\n            message: '请选择一条记录',\n            type: 'warning',\n            duration: 1000\n          });\n          return;\n        }\n        if (this.operateType !== 'deletePurchaseRule') {\n          this.$message({\n            message: '请选择批量操作类型',\n            type: 'warning',\n            duration: 1000\n          });\n          return;\n        }\n        let ids = [];\n        for (let i = 0; i < this.multipleSelection.length; i++) {\n          ids.push(this.multipleSelection[i].id);\n        }\n        this.handleDeleteProductAttr(ids);\n      },\n      handleSizeChange(val) {\n        this.listQuery.pageNum = 1;\n        this.listQuery.pageSize = val;\n        this.getList();\n      },\n      handleCurrentChange(val) {\n        this.listQuery.pageNum = val;\n        this.getList();\n      },\n      handleUpdate(index, row) {\n          this.purchaseRuleDialog = true;\n          this.isEdit = false;\n          this.purchaseRule = Object.assign({},row);\n          this.purchaseRule.ruleId = row.ruleId;\n      },\n      handleDeleteProductAttr(ids) {\n        this.$confirm('是否要删除该属性', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          let data = new URLSearchParams();\n          data.append(\"ids\", ids);\n          deletePurchaseRule(data).then(response => {\n            this.$message({\n              message: '删除成功',\n              type: 'success',\n              duration: 1000\n            });\n            this.getList();\n          });\n        });\n      },\n      handleDelete(index, row) {\n        let ids = [];\n        ids.push(row.id);\n        this.handleDeleteProductAttr(ids);\n      },\n      searchProductMethod(query){\n          if (query !== '') {\n              this.loading = true;\n              fetchProductList({productName:query,pageNum: 1,\n                  pageSize: 999}).then(response=>{\n                  this.loading=false;\n                  let productList = response.data;\n                  this.selectProductOptions = [];\n                  for(let i=0;i<productList.length;i++){\n                      let item = productList[i];\n                      this.selectProductOptions.push({productId:item.productId,productName:item.productName});\n                  }\n              });\n          } else {\n              this.selectProductOptions = [];\n          }\n      },\n      handleAddProductRelation(){\n          if(this.selectProduct===null){\n              this.$message({\n                  message: '请先选择商品',\n                  type: 'warning'\n              });\n              return\n          }\n          this.purchaseRule.productRelationList.push(this.getProductById(this.selectProduct));\n          this.selectProduct=null;\n      },\n      getProductById(id){\n          for(let i=0;i<this.selectProductOptions.length;i++){\n              if(id===this.selectProductOptions[i].productId){\n                  return this.selectProductOptions[i];\n              }\n          }\n          return null;\n      },\n      handleDeleteProductRelation(index,row){\n          this.purchaseRule.productRelationList.splice(index,1);\n      },\n      handleSelectDialogConfirm(){\n          this.$confirm('是否要确认?', '提示', {\n              confirmButtonText: '确定',\n              cancelButtonText: '取消',\n              type: 'warning'\n          }).then(() => {\n              if (this.isEdit) {\n                  updatePurchaseRule(this.purchaseRule.ruleId,this.purchaseRule).then(response => {\n                      this.$message({\n                          message: '修改成功！',\n                          type: 'success'\n                      });\n                      this.purchaseRuleDialog =false;\n                      this.getList();\n                  })\n              } else {\n                  console.log(this.purchaseRule)\n                  createPurchaseRule(this.purchaseRule).then(response => {\n                      this.$message({\n                          message: '添加成功！',\n                          type: 'success'\n                      });\n                      this.purchaseRuleDialog =false;\n                      this.getList();\n                  })\n              }\n          })\n      },\n    },\n    filters: {\n      inputTypeFilter(value) {\n        if (value === 1) {\n          return '从列表中选取';\n        } else {\n          return '手工录入'\n        }\n      },\n      selectTypeFilter(value) {\n        if (value === 1) {\n          return '单选';\n        } else if (value === 2) {\n          return '多选';\n        } else {\n          return '唯一'\n        }\n      },\n    }\n  }\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/pms/purchaseRule/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.searchBrandList()}}},[_vm._v(\"\\n        查询结果\\n      \")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.listQuery,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"输入搜索：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"placeholder\":\"商品名称\"},model:{value:(_vm.listQuery.productName),callback:function ($$v) {_vm.$set(_vm.listQuery, \"productName\", $$v)},expression:\"listQuery.productName\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\",staticStyle:{\"margin-top\":\"5px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(\"数据列表\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-add\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addPurchaseRule()}}},[_vm._v(\"\\n      添加\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"productAttrTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.ruleId))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.productName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"height\":\"80px\"},attrs:{\"src\":scope.row.productIcon}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最小数量\",\"width\":\"140\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.minAmount))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"折扣\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(scope.row.discount)+\"%\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"价格\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(scope.row.price)+\"￥\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"销量\",\"width\":\"140\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.saleAmount))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_c('el-switch',{attrs:{\"active-value\":true,\"inactive-value\":false},on:{\"change\":function($event){return _vm.handleNewStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.activated),callback:function ($$v) {_vm.$set(scope.row, \"activated\", $$v)},expression:\"scope.row.activated\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}}},[_vm._v(\"编辑\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\\n          \")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"batch-operate-container\"},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"批量操作\"},model:{value:(_vm.operateType),callback:function ($$v) {_vm.operateType=$$v},expression:\"operateType\"}},_vm._l((_vm.operates),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-button',{staticClass:\"search-button\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleBatchOperate()}}},[_vm._v(\"\\n      确定\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, sizes,prev, pager, next,jumper\",\"page-size\":_vm.listQuery.pageSize,\"page-sizes\":[5,10,15],\"current-page\":_vm.listQuery.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.listQuery, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.listQuery, \"pageNum\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加/修改 进货规则\",\"visible\":_vm.purchaseRuleDialog,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.purchaseRuleDialog=$event}}},[_c('el-form',{ref:\"flashPromotionForm\",attrs:{\"model\":_vm.purchaseRule,\"label-width\":\"150px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"选择商品\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"商品名称/商品货号\",\"remote-method\":_vm.searchProductMethod},model:{value:(_vm.selectProduct),callback:function ($$v) {_vm.selectProduct=$$v},expression:\"selectProduct\"}},_vm._l((_vm.selectProductOptions),function(item){return _c('el-option',{key:item.productId,attrs:{\"label\":item.productName,\"value\":item.productId}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.productName))]),_vm._v(\" \"),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8492a6\",\"font-size\":\"13px\"}},[_vm._v(\"NO.\"+_vm._s(item.productId))])])}),1),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.handleAddProductRelation()}}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-table',{ref:\"productRelationTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.purchaseRule.productRelationList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"align\":\"center\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"NO.\"+_vm._s(scope.row.productId))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.productName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDeleteProductRelation(scope.$index, scope.row)}}},[_vm._v(\"删除\\n              \")])]}}])})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"折扣：\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"placeholder\":\"只能输入正整数\"},model:{value:(_vm.purchaseRule.discount),callback:function ($$v) {_vm.$set(_vm.purchaseRule, \"discount\", $$v)},expression:\"purchaseRule.discount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"%\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"最少数量：\",\"prop\":\"minAmount\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},model:{value:(_vm.purchaseRule.minAmount),callback:function ($$v) {_vm.$set(_vm.purchaseRule, \"minAmount\", $$v)},expression:\"purchaseRule.minAmount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"件\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格：\",\"prop\":\"prices\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},model:{value:(_vm.purchaseRule.price),callback:function ($$v) {_vm.$set(_vm.purchaseRule, \"price\", _vm._n($$v))},expression:\"purchaseRule.price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"销量：\",\"prop\":\"saleAmount\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},model:{value:(_vm.purchaseRule.saleAmount),callback:function ($$v) {_vm.$set(_vm.purchaseRule, \"saleAmount\", _vm._n($$v))},expression:\"purchaseRule.saleAmount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"件\")])],2)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.purchaseRuleDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSelectDialogConfirm()}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b3176e8a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pms/purchaseRule/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b3176e8a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b3176e8a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b3176e8a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pms/purchaseRule/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}