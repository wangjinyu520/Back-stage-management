{"version":3,"sources":["webpack:///src/views/wms/activity/components/ActivityDetail.vue","webpack:///./src/views/wms/activity/components/ActivityDetail.vue?c3b3","webpack:///./src/views/wms/activity/components/ActivityDetail.vue","webpack:///src/views/wms/activity/update.vue","webpack:///./src/views/wms/activity/update.vue?8564","webpack:///./src/views/wms/activity/update.vue"],"names":["defaultTypeOptions","label","value","defaultGenderOptions","activityFreeOptions","defaultHomeAdvertise","activityTheme","bannerName","jumpUrl","bannerType","description","sortIndex","imageUrl","startDate","endDate","status","ActivityDetail","name","components","SingleUpload","singleUpload","quillEditor","vue_quill_editor","props","isEdit","type","Boolean","default","data","assign_default","dialogVisible","dialogImageUrl","params","FormData","fileList","quillOption","quill_config","activity","uploadPath","storage","rules","fee","required","message","trigger","min","max","activityPhone","pattern","typeOptions","genderOptions","created","_this","this","console","log","$route","query","activityId","formData","URLSearchParams","append","Object","api_activity","then","response","activityFree","stringify_default","methods","handlePictureCardPreview","file","url","handleRemove","i","key","uid","splice","uploadFile","beforeAvatarUpload","isJPG","isPng","isLt2M","size","$message","error","activityLogo","uploadProductUrl","checkType","raw","undefined","window","createObjectURL","URL","webkitURL","onSubmit","formName","_this2","$refs","validate","valid","duration","$confirm","confirmButtonText","cancelButtonText","activityStartTime","$alert","activityEndTime","activityFee","companyId","ticket","activated","resetFields","resetForm","components_ActivityDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","ref","model","label-width","prop","callback","$$v","$set","expression","_v","action","limit","list-type","on-preview","on-remove","before-upload","file-list","multiple","http-request","staticStyle","width","height","src","_e","visible","on","update:visible","$event","alt","value-format","placeholder","_l","item","_n","slot","click","staticRenderFns","update","HomeAdvertiseDetail","__webpack_require__","normalizeComponent","ssrContext","activity_update","update_Component","update_normalizeComponent","__webpack_exports__"],"mappings":"qQAyGAA,IAEAC,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,OACAC,MAAA,IAGAD,MAAA,KACAC,MAAA,IAGAD,MAAA,KACAC,MAAA,IAGAC,IAEAF,MAAA,IACAC,MAAA,IAGAD,MAAA,IACAC,MAAA,IAGAE,IAEAH,MAAA,KACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAIAG,GACAC,cAAA,KACAC,WAAA,KACAC,QAAA,KACAC,WAAA,EACAC,YAAA,KACAC,UAAA,EACAC,SAAA,KACAC,UAAA,KACAC,QAAA,KACAC,OAAA,GAEAC,GACAC,KAAA,qBACAC,YAAAC,aAAAC,EAAA,EAAAC,YAAAC,EAAA,aACAC,OACAC,QACAC,KAAAC,QACAC,SAAA,IAGAC,KATA,WAYA,OACAxB,oBAAAyB,OAAAzB,GACA0B,eAAA,EACAC,eAAA,GACAC,OAAA,IAAAC,SACAC,YACAC,YAAAC,EAAA,EACAC,UAAA/B,cAAA,MACAgC,WAAAC,EAAA,EACAC,OACAC,MACAhB,KAAA,SAAAiB,UAAA,EAAAC,QAAA,6BAAAC,QAAA,SAEArC,aACAmC,UAAA,EAAAC,QAAA,UAAAC,QAAA,SACAC,IAAA,EAAAC,IAAA,IAAAH,QAAA,kBAAAC,QAAA,SAEAtC,gBACAoC,UAAA,EAAAC,QAAA,UAAAC,QAAA,SACAC,IAAA,EAAAF,QAAA,aAAAC,QAAA,SACAE,IAAA,GAAAH,QAAA,aAAAC,QAAA,SAEApC,UACAkC,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEA/B,YACA6B,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEAG,gBACAL,UAAA,EAAAC,QAAA,WAAAC,QAAA,SACAC,IAAA,GAAAC,IAAA,GAAAH,QAAA,YAAAC,QAAA,SACAI,QAAA,oBAAAL,QAAA,YAAAC,QAAA,SAEA9B,UACA4B,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEAhC,WACA8B,UAAA,EAAAC,QAAA,UAAAC,QAAA,UAGAK,YAAApB,OAAA7B,GACAkD,cAAArB,OAAA1B,KAGAgD,QAxDA,WAwDA,IAAAC,EAAAC,KAEA,GAAAA,KAAA7B,OAAA,CACA8B,QAAAC,IAAA,gBAAAF,KAAAG,OAAAC,MAAAC,YACAJ,QAAAC,IAAA,0DAEA,IAAAI,EAAA,IAAAC,gBACAD,EAAAE,OAAA,aAAAR,KAAAG,OAAAC,MAAAC,YACYI,OAAAC,EAAA,EAAAD,CAAZH,GAAAK,KAAA,SAAAC,GACAb,EAAAf,SAAA4B,EAAArC,KACA,GAAAwB,EAAAf,SAAA6B,aACAd,EAAAf,SAAA6B,aAAA,MAEAd,EAAAf,SAAA6B,aAAA,KAEAZ,QAAAC,IAAA,YAAAY,IAAAf,EAAAf,kBAGAgB,KAAAhB,SAAAR,OAAAxB,IAGA+D,SACAC,yBADA,SACAC,GACAjB,KAAAtB,eAAAuC,EAAAC,IACAlB,KAAAvB,eAAA,GAEA0C,aALA,SAKAF,GACA,QAAAG,KAAApB,KAAAnB,SACAmB,KAAAnB,SAAAuC,GAAAC,MAAAJ,EAAAK,KACAtB,KAAAnB,SAAA0C,OAAAH,EAAA,IAIAI,WAZA,SAYAP,GACAjB,KAAArB,OAAA6B,OAAA,OAAAS,SAGAQ,mBAhBA,SAgBAR,GACA,IAAAS,EAAA,eAAAT,EAAA7C,KACAuD,EAAA,cAAAV,EAAA7C,KACAwD,EAAAX,EAAAY,KAAA,YASA,OAPAH,GAAAC,GACA3B,KAAA8B,SAAAC,MAAA,uBAEAH,GACA5B,KAAA8B,SAAAC,MAAA,mBAEA/B,KAAAhB,SAAAgD,aAAAhC,KAAAtB,gBACAgD,GAAAC,IAAAC,GAEAK,iBAAA,SAAArB,GACAX,QAAAC,IAAAU,GACAX,QAAAC,IAAA,iBACAF,KAAAhB,SAAAzB,SAAAqD,EAAArC,MAEA2D,UAnCA,SAmCAjB,GACAhB,QAAAC,IAAAe,GACAjB,KAAAhB,SAAAiC,OAAAkB,SACAC,GAAAC,OAAAC,gBACAtC,KAAAhB,SAAAzB,SAAA8E,OAAAC,gBAAArB,EAAAkB,UACAC,GAAAC,OAAAE,IACAvC,KAAAhB,SAAAzB,SAAA8E,OAAAE,IAAAD,gBAAArB,EAAAkB,UACAC,GAAAC,OAAAG,YACAxC,KAAAhB,SAAAzB,SAAA8E,OAAAG,UAAAF,gBAAArB,EAAAkB,OAGAM,SA9CA,SA8CAC,GAAA,IAAAC,EAAA3C,KAEAA,KAAA4C,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EA6EA,OALAH,EAAAb,UACAxC,QAAA,OACAlB,KAAA,QACA2E,SAAA,OAEA,EA5EAJ,EAAAK,SAAA,eACAC,kBAAA,KACAC,iBAAA,KACA9E,KAAA,YACAuC,KAAA,WACA,GAAAgC,EAAAxE,OAAA,CACA,UAAAwE,EAAA3D,SAAAmE,kBAKA,YAJAR,EAAAS,OAAA,kBACAH,kBAAA,KACA7E,KAAA,UAIA,UAAAuE,EAAA3D,SAAAqE,gBAKA,YAJAV,EAAAS,OAAA,kBACAH,kBAAA,KACA7E,KAAA,UAKA,GAAAuE,EAAA3D,SAAAqE,iBAAAV,EAAA3D,SAAAmE,kBAKA,YAJAR,EAAAS,OAAA,qBACAH,kBAAA,KACA7E,KAAA,UAIA,IAAAuE,EAAA3D,SAAA6B,eACA8B,EAAA3D,SAAAsE,YAAA,GAGA,IAAAtE,GACAqB,WAAAsC,EAAA3D,SAAAqB,WACAkD,UAAAZ,EAAA3D,SAAAuE,UACAtG,cAAA0F,EAAA3D,SAAA/B,cACA+E,aAAAW,EAAA3D,SAAAgD,aACAmB,kBAAAR,EAAA3D,SAAAmE,kBACAE,gBAAAV,EAAA3D,SAAAqE,gBACA3D,cAAAiD,EAAA3D,SAAAU,cACA8D,OAAAb,EAAA3D,SAAAwE,OACAC,UAAAd,EAAA3D,SAAAyE,WAEAd,EAAAhE,OAAA6B,OAAA,WAAAM,IAAA9B,IAEAiB,QAAAC,IAAA,YAAAY,IAAA6B,EAAA3D,gBAa4ByB,OAAAC,EAAA,EAAAD,CAA5BkC,EAAA3D,UAAA2B,KAAA,SAAAC,GACA+B,EAAAC,MAAAF,GAAAgB,cACAf,EAAA3D,SAAAR,OAAAxB,GACA2F,EAAAb,UACAxC,QAAA,OACAlB,KAAA,UACA2E,SAAA,aAgBAY,UAlIA,SAkIAjB,GACA1C,KAAA4C,MAAAF,GAAAgB,cACA1D,KAAAhB,SAAAR,OAAAxB,MClXe4G,GADEC,OAFjB,WAA0B,IAAAC,EAAA9D,KAAa+D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,iBAAAC,OAAoCC,OAAA,WAAkBJ,EAAA,WAAgBK,IAAA,eAAAF,OAA0BG,MAAAT,EAAA9E,SAAAG,MAAA2E,EAAA3E,MAAAqF,cAAA,QAAA3C,KAAA,WAA6EoC,EAAA,gBAAqBG,OAAOxH,MAAA,QAAA6H,KAAA,mBAAwCR,EAAA,YAAiBE,YAAA,cAAAI,OAAiC1H,MAAAiH,EAAA9E,SAAA,cAAA0F,SAAA,SAAAC,GAA4Db,EAAAc,KAAAd,EAAA9E,SAAA,gBAAA2F,IAA6CE,WAAA,6BAAsC,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,gBAAqCG,OAAOxH,MAAA,QAAA6H,KAAA,UAA+BR,EAAA,aAAkBG,OAAOW,OAAA,IAAAC,MAAA,EAAAC,YAAA,eAAAC,aAAApB,EAAA9C,yBAAAmE,YAAArB,EAAA3C,aAAAiE,gBAAAtB,EAAArC,mBAAA4D,YAAAvB,EAAAjF,SAAAyG,SAAA,GAAAC,eAAAzB,EAAAtC,cAAsOsC,EAAA9E,SAAA,aAAAiF,EAAA,OAAwCE,YAAA,SAAAqB,aAAkCC,MAAA,QAAAC,OAAA,SAAiCtB,OAAQuB,IAAA7B,EAAA9E,SAAAgD,gBAAiC8B,EAAA8B,KAAA9B,EAAAgB,GAAA,KAAAb,EAAA,KAA+BE,YAAA,mBAA2BL,EAAAgB,GAAA,KAAAb,EAAA,aAAgCG,OAAOyB,QAAA/B,EAAArF,eAA4BqH,IAAKC,iBAAA,SAAAC,GAAkClC,EAAArF,cAAAuH,MAA2B/B,EAAA,OAAYG,OAAOqB,MAAA,OAAAE,IAAA7B,EAAApF,eAAAuH,IAAA,SAAkD,GAAAnC,EAAAgB,GAAA,KAAAb,EAAA,gBAAuCG,OAAOxH,MAAA,aAAmBqH,EAAA,kBAAuBE,YAAA,cAAAC,OAAiC8B,eAAA,sBAAA9H,KAAA,WAAA+H,YAAA,SAA6E5B,OAAQ1H,MAAAiH,EAAA9E,SAAA,kBAAA0F,SAAA,SAAAC,GAAgEb,EAAAc,KAAAd,EAAA9E,SAAA,oBAAA2F,IAAiDE,WAAA,iCAA0C,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,gBAAqCG,OAAOxH,MAAA,aAAmBqH,EAAA,kBAAuBE,YAAA,cAAAC,OAAiC8B,eAAA,sBAAA9H,KAAA,WAAA+H,YAAA,SAA6E5B,OAAQ1H,MAAAiH,EAAA9E,SAAA,gBAAA0F,SAAA,SAAAC,GAA8Db,EAAAc,KAAAd,EAAA9E,SAAA,kBAAA2F,IAA+CE,WAAA,+BAAwC,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,gBAAqCG,OAAOxH,MAAA,WAAiBqH,EAAA,aAAkBM,OAAO1H,MAAAiH,EAAA9E,SAAA,aAAA0F,SAAA,SAAAC,GAA2Db,EAAAc,KAAAd,EAAA9E,SAAA,eAAA2F,IAA4CE,WAAA,0BAAqCf,EAAAsC,GAAAtC,EAAA,6BAAAuC,GAAiD,OAAApC,EAAA,aAAuB5C,IAAAgF,EAAAxJ,MAAAuH,OAAsBxH,MAAAyJ,EAAAzJ,MAAAC,MAAAwJ,EAAAxJ,WAAyC,OAAAiH,EAAAgB,GAAA,YAAAhB,EAAA9E,SAAA6B,aAAAoD,EAAA,gBAA8EG,OAAOxH,MAAA,WAAiBqH,EAAA,YAAiBE,YAAA,cAAAC,OAAiC+B,YAAA,iBAA8B5B,OAAQ1H,MAAAiH,EAAA9E,SAAA,YAAA0F,SAAA,SAAAC,GAA0Db,EAAAc,KAAAd,EAAA9E,SAAA,cAAA8E,EAAAwC,GAAA3B,KAAmDE,WAAA,0BAAoCZ,EAAA,YAAiBsC,KAAA,WAAczC,EAAAgB,GAAA,eAAAhB,EAAA8B,KAAA9B,EAAAgB,GAAA,UAAAhB,EAAA9E,SAAA6B,aAAAoD,EAAA,gBAAoGG,OAAOxH,MAAA,WAAiBqH,EAAA,YAAiBE,YAAA,cAAAC,OAAiC+B,YAAA,iBAA8B5B,OAAQ1H,MAAAiH,EAAA9E,SAAA,YAAA0F,SAAA,SAAAC,GAA0Db,EAAAc,KAAAd,EAAA9E,SAAA,cAAA8E,EAAAwC,GAAA3B,KAAmDE,WAAA,0BAAoCZ,EAAA,YAAiBsC,KAAA,WAAczC,EAAAgB,GAAA,eAAAhB,EAAA8B,KAAA9B,EAAAgB,GAAA,KAAAb,EAAA,gBAAgEG,OAAOxH,MAAA,UAAA6H,KAAA,mBAA0CR,EAAA,YAAiBE,YAAA,cAAAI,OAAiC1H,MAAAiH,EAAA9E,SAAA,cAAA0F,SAAA,SAAAC,GAA4Db,EAAAc,KAAAd,EAAA9E,SAAA,gBAAA2F,IAA6CE,WAAA,6BAAsC,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,gBAAqCG,OAAOxH,MAAA,WAAiBqH,EAAA,kBAAuBM,OAAO1H,MAAAiH,EAAA9E,SAAA,UAAA0F,SAAA,SAAAC,GAAwDb,EAAAc,KAAAd,EAAA9E,SAAA,YAAA2F,IAAyCE,WAAA,wBAAkCZ,EAAA,YAAiBG,OAAOxH,MAAA,KAAWkH,EAAAgB,GAAA,UAAAhB,EAAAgB,GAAA,KAAAb,EAAA,YAA8CG,OAAOxH,MAAA,KAAWkH,EAAAgB,GAAA,UAAAhB,EAAAgB,GAAA,KAAAb,EAAA,YAA8CG,OAAOxH,MAAA,KAAWkH,EAAAgB,GAAA,SAAAhB,EAAAgB,GAAA,KAAAb,EAAA,YAA6CG,OAAOxH,MAAA,KAAWkH,EAAAgB,GAAA,kBAAAhB,EAAAgB,GAAA,KAAAb,EAAA,gBAAAA,EAAA,aAA0EG,OAAOhG,KAAA,WAAiB0H,IAAKU,MAAA,SAAAR,GAAyB,OAAAlC,EAAArB,SAAA,oBAAsCqB,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,KAAAhB,EAAA3F,OAA+H2F,EAAA8B,KAA/H3B,EAAA,aAA2D6B,IAAIU,MAAA,SAAAR,GAAyB,OAAAlC,EAAAH,UAAA,oBAAuCG,EAAAgB,GAAA,qBAE7iI2B,oBCCjB,ICEAC,GACA9I,KAAA,qBACAC,YAAA8I,oBDJyBC,EAAQ,OAcjCC,CACElJ,EACAiG,GATF,EAVA,SAAAkD,GACEF,EAAQ,SAaV,kBAEA,MAUgC,UEvBjBG,GADElD,OAFP,WAAgB,IAAaE,EAAb/D,KAAagE,eAAkD,OAA/DhE,KAAuCkE,MAAAD,IAAAF,GAAwB,yBAAmCK,OAAOjG,QAAA,MAEnGsI,oBCChC,IAcIO,EAdqBJ,EAAQ,OAcjBK,CACdP,EACAK,GAT6B,EAV/B,SAAoBD,GAClBF,EAAQ,SAaS,KAEU,MAUdM,EAAA,QAAAF,EAAiB","file":"static/js/23.e7ce503efa9649498f7f.js","sourcesContent":["<template> \n  <el-card class=\"form-container\" shadow=\"never\">\n    <el-form :model=\"activity\"\n             :rules=\"rules\"\n             ref=\"activityForm\"\n             label-width=\"150px\"\n             size=\"small\">\n\n      <el-form-item label=\"活动主题：\" prop=\"activityTheme\">\n        <el-input v-model=\"activity.activityTheme\" class=\"input-width\" ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"活动封面：\" prop=\"name\">\n        <el-upload\n          action=\"#\"\n          :limit=\"1\"\n          list-type=\"picture-card\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n          :before-upload=\"beforeAvatarUpload\"\n          :file-list=\"fileList\"\n          multiple\n          :http-request=\"uploadFile\"\n        >\n          <img v-if=\"activity.activityLogo\" :src=\"activity.activityLogo\" class=\"avatar\"\n               style=\"width: 148px;height:148px\">\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n        </el-dialog>\n      </el-form-item>\n\n      <el-form-item label=\"活动开始时间：\">\n        <el-date-picker\n          class=\"input-width\"\n          v-model=\"activity.activityStartTime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          type=\"datetime\"\n          placeholder=\"请选择时间\">\n        </el-date-picker>\n      </el-form-item>\n\n      <el-form-item label=\"活动结束时间：\">\n        <el-date-picker\n          class=\"input-width\"\n          v-model=\"activity.activityEndTime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          type=\"datetime\"\n          placeholder=\"请选择时间\">\n        </el-date-picker>\n      </el-form-item>\n\n      <el-form-item label=\"是否免费：\">\n        <el-select v-model=\"activity.activityFree\">\n          <el-option v-for=\"item in activityFreeOptions\" :key=\"item.value\" :label=\"item.label\"\n                     :value=\"item.value\"></el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item v-if=\"activity.activityFree == '不免费' \" label=\"活动费用：\" >\n        <el-input v-model.number=\"activity.activityFee\" placeholder=\"费用只能是数值，限2位小数\" class=\"input-width\">\n          <template slot=\"append\">元</template>\n        </el-input>\n      </el-form-item>\n\n      <el-form-item v-if=\"activity.activityFree == '0' \" label=\"活动费用：\" >\n        <el-input v-model.number=\"activity.activityFee\" placeholder=\"费用只能是数值，限2位小数\" class=\"input-width\">\n          <template slot=\"append\">元</template>\n        </el-input>\n      </el-form-item>\n\n      <el-form-item label=\"活动咨询电话：\" prop=\"activityPhone\">\n        <el-input v-model=\"activity.activityPhone\" class=\"input-width\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"活动状态：\">\n        <el-radio-group v-model=\"activity.activated\">\n          <el-radio :label=\"0\">还未开始</el-radio>\n          <el-radio :label=\"1\">正在进行</el-radio>\n          <el-radio :label=\"2\">已结束</el-radio>\n          <el-radio :label=\"3\">截止报名</el-radio>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit('activityForm')\">提交</el-button>\n        <el-button v-if=\"!isEdit\" @click=\"resetForm('activityForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n<script>\n    import {quillEditor} from 'vue-quill-editor';\n    import quillConfig from '@/utils/quill-config.js'\n\n    import 'quill/dist/quill.core.css'\n    import 'quill/dist/quill.snow.css'\n    import 'quill/dist/quill.bubble.css'\n\n    import SingleUpload from '@/components/Upload/singleUpload'\n    import {createHomeAdvertise, getActivityInfo, updateActivity} from '@/api/activity'\n    import {uploadPath} from '@/api/storage';\n\n\n  const defaultTypeOptions = [\n      {\n          label: '灯光师',\n          value: 1\n      },\n      {\n          label: '音响师',\n          value: 2\n      },\n      {\n          label: '视频师',\n          value: 3\n      },\n      {\n          label: '项目经理',\n          value: 4\n      },\n      {\n          label: '搭建',\n          value: 5\n      },\n      {\n          label: '舞美',\n          value: 6\n      }\n  ];\n  const defaultGenderOptions = [\n      {\n          label: '男',\n          value: 1\n      },\n      {\n          label: '女',\n          value: 2\n      }\n  ];\n  const activityFreeOptions = [\n      {\n          label: '免费',\n          value: 1\n      },\n      {\n          label: '不免费',\n          value: 0\n      }\n  ];\n\n  const defaultHomeAdvertise = {\n      activityTheme: null,\n      bannerName: null,\n      jumpUrl: null,\n      bannerType: 1,\n      description: null,\n      sortIndex: 0,\n      imageUrl: null,\n      startDate: null,\n      endDate: null,\n      status: 0\n  };\n  export default {\n    name: 'HomeActivityDetail',\n    components:{SingleUpload,quillEditor},\n    props: {\n      isEdit: {\n        type: Boolean,\n        default: false\n      }\n    },\n      data() {\n\n          imageUrlList:[];\n          return {\n              activityFreeOptions: Object.assign({}, activityFreeOptions),\n              dialogVisible: false,\n              dialogImageUrl: '',\n              params: new FormData(),\n              fileList: [],\n              quillOption: quillConfig,\n              activity: {activityTheme: null},\n              uploadPath,\n              rules: {\n                  fee: [\n                      {type: 'number',required: true,message: '活动费用只能是数值，0.01-10000，限2位小数',trigger: 'blur'}\n                  ],\n                  bannerName: [\n                      {required: true, message: '请输入广告名称', trigger: 'blur'},\n                      {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\n                  ],\n                  activityTheme: [\n                      {required: true, message: '请输入活动主题', trigger: 'blur'},\n                      {min: 2, message: '活动主题不少于两个字', trigger: 'blur'},\n                      {max: 25, message: '活动主题最多25个字', trigger: 'blur'}\n                  ],\n                  jumpUrl: [\n                      {required: true, message: '请输入广告链接', trigger: 'blur'}\n                  ],\n                  startDate: [\n                      {required: true, message: '请选择开始时间', trigger: 'blur'}\n                  ],\n                  activityPhone: [\n                      {required: true, message: '联系方式不能为空', trigger: 'blur'},\n                      {min: 11, max: 11, message: '手机号长度为11位', trigger: 'blur'},\n                      {pattern: /^1[3456789]\\d{9}$/, message: '手机号码格式不正确', trigger: 'blur'}\n                  ],\n                  endDate: [\n                      {required: true, message: '请选择到期时间', trigger: 'blur'}\n                  ],\n                  imageUrl: [\n                      {required: true, message: '请选择广告图片', trigger: 'blur'}\n                  ]\n              },\n              typeOptions: Object.assign({}, defaultTypeOptions),\n              genderOptions: Object.assign({}, defaultGenderOptions)\n          }\n      },\n      created() {\n\n          if (this.isEdit) {\n              console.log('activityId is' + this.$route.query.activityId);\n              console.log('process.env.BASE_API' + process.env.BASE_API);\n\n              let formData = new URLSearchParams();\n              formData.append(\"activityId\", this.$route.query.activityId);\n              getActivityInfo(formData).then(response => {\n                  this.activity = response.data;\n                  if(this.activity.activityFree == true){\n                      this.activity.activityFree = '不免费';\n                  }else{\n                      this.activity.activityFree = '免费';\n                  }\n                  console.log(\"更新前的活动信息：\", JSON.stringify(this.activity));\n              });\n          } else {\n              this.activity = Object.assign({}, defaultHomeAdvertise);\n          }\n      },\n      methods: {\n          handlePictureCardPreview(file) {\n              this.dialogImageUrl = file.url;\n              this.dialogVisible = true\n          },\n          handleRemove(file) {\n              for (const i in this.fileList) {\n                  if (this.fileList[i].key === file.uid) {\n                      this.fileList.splice(i, 1)\n                  }\n              }\n          },\n          uploadFile(file) {\n              this.params.append('logo', file.file);\n\n          },\n          beforeAvatarUpload(file) {\n              const isJPG = file.type === 'image/jpeg';\n              const isPng = file.type === 'image/png';\n              const isLt2M = file.size / 1024 / 1024 < 2;\n\n              if (!isJPG && !isPng) {\n                  this.$message.error('上传图片只能是 JPG或png 格式!');\n              }\n              if (!isLt2M) {\n                  this.$message.error('上传图片大小不能超过 2MB!');\n              }\n              this.activity.activityLogo = this.dialogImageUrl;\n              return (isJPG || isPng) && isLt2M\n          },\n          uploadProductUrl: function (response) {\n              console.log(response);\n              console.log('uploadSuccess');\n              this.activity.imageUrl = response.data;\n          },\n          checkType(file) {\n              console.log(file);\n              this.activity.file = file.raw;\n              if (window.createObjectURL != undefined) { // basic\n                  this.activity.imageUrl = window.createObjectURL(file.raw);\n              } else if (window.URL != undefined) { // mozilla(firefox)\n                  this.activity.imageUrl = window.URL.createObjectURL(file.raw);\n              } else if (window.webkitURL != undefined) { // webkit or chrome\n                  this.activity.imageUrl = window.webkitURL.createObjectURL(file.raw);\n              }\n          },\n          onSubmit(formName) {\n\n              this.$refs[formName].validate((valid) => {\n                  if (valid) {\n                      this.$confirm('是否提交数据', '提示', {\n                          confirmButtonText: '确定',\n                          cancelButtonText: '取消',\n                          type: 'warning'\n                      }).then(() => {\n                          if (this.isEdit) {\n                              if (null === this.activity.activityStartTime) {\n                                  this.$alert('请选择活动开始时间', '提示', {\n                                      confirmButtonText: '确定',\n                                      type: 'error'\n                                  });\n                                  return;\n                              }\n                              if (null === this.activity.activityEndTime) {\n                                  this.$alert('请选择活动结束时间', '提示', {\n                                      confirmButtonText: '确定',\n                                      type: 'error'\n                                  });\n                                  return;\n                              }\n\n                              if (this.activity.activityEndTime <= this.activity.activityStartTime) {\n                                  this.$alert('开始时间不能晚于结束时间', '提示', {\n                                      confirmButtonText: '确定',\n                                      type: 'error'\n                                  });\n                                  return;\n                              }\n                              if (this.activity.activityFree === 1) {\n                                  this.activity.activityFee = 0;\n                              }\n                              //封装json格式的activity\n                              const activity = {\n                                  \"activityId\": this.activity.activityId,\n                                  \"companyId\": this.activity.companyId,\n                                  \"activityTheme\": this.activity.activityTheme,\n                                  \"activityLogo\": this.activity.activityLogo,\n                                  \"activityStartTime\": this.activity.activityStartTime,\n                                  \"activityEndTime\": this.activity.activityEndTime,\n                                  \"activityPhone\": this.activity.activityPhone,\n                                  \"ticket\": this.activity.ticket,\n                                  \"activated\": this.activity.activated\n                              };\n                              this.params.append(\"activity\", JSON.stringify(activity));\n\n                              console.log(\"更新后的活动信息：\" + JSON.stringify(this.activity));\n\n\n/*                              updateActivity(this.params).then(response => {\n                                  this.$refs[formName].resetFields();\n                                  this.$message({\n                                      message: '修改成功',\n                                      type: 'success',\n                                      duration: 1000\n                                  });\n                                  this.$router.back();\n                              });*/\n                          } else {\n                              createHomeAdvertise(this.activity).then(response => {\n                                  this.$refs[formName].resetFields();\n                                  this.activity = Object.assign({}, defaultHomeAdvertise);\n                                  this.$message({\n                                      message: '提交成功',\n                                      type: 'success',\n                                      duration: 1000\n                                  });\n                              });\n                          }\n                      });\n\n                  } else {\n                      this.$message({\n                          message: '验证失败',\n                          type: 'error',\n                          duration: 1000\n                      });\n                      return false;\n                  }\n              });\n          },\n          resetForm(formName) {\n              this.$refs[formName].resetFields();\n              this.activity = Object.assign({}, defaultHomeAdvertise);\n          }\n      }\n  }\n</script>\n<style scoped>\n  .input-width {\n    width: 70%;\n  }\n  .form-container {\n    width: 1320px;\n  }\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/wms/activity/components/ActivityDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"form-container\",attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"activityForm\",attrs:{\"model\":_vm.activity,\"rules\":_vm.rules,\"label-width\":\"150px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"活动主题：\",\"prop\":\"activityTheme\"}},[_c('el-input',{staticClass:\"input-width\",model:{value:(_vm.activity.activityTheme),callback:function ($$v) {_vm.$set(_vm.activity, \"activityTheme\", $$v)},expression:\"activity.activityTheme\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动封面：\",\"prop\":\"name\"}},[_c('el-upload',{attrs:{\"action\":\"#\",\"limit\":1,\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"before-upload\":_vm.beforeAvatarUpload,\"file-list\":_vm.fileList,\"multiple\":\"\",\"http-request\":_vm.uploadFile}},[(_vm.activity.activityLogo)?_c('img',{staticClass:\"avatar\",staticStyle:{\"width\":\"148px\",\"height\":\"148px\"},attrs:{\"src\":_vm.activity.activityLogo}}):_vm._e(),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-plus\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动开始时间：\"}},[_c('el-date-picker',{staticClass:\"input-width\",attrs:{\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"请选择时间\"},model:{value:(_vm.activity.activityStartTime),callback:function ($$v) {_vm.$set(_vm.activity, \"activityStartTime\", $$v)},expression:\"activity.activityStartTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动结束时间：\"}},[_c('el-date-picker',{staticClass:\"input-width\",attrs:{\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"请选择时间\"},model:{value:(_vm.activity.activityEndTime),callback:function ($$v) {_vm.$set(_vm.activity, \"activityEndTime\", $$v)},expression:\"activity.activityEndTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否免费：\"}},[_c('el-select',{model:{value:(_vm.activity.activityFree),callback:function ($$v) {_vm.$set(_vm.activity, \"activityFree\", $$v)},expression:\"activity.activityFree\"}},_vm._l((_vm.activityFreeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),(_vm.activity.activityFree == '不免费' )?_c('el-form-item',{attrs:{\"label\":\"活动费用：\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"费用只能是数值，限2位小数\"},model:{value:(_vm.activity.activityFee),callback:function ($$v) {_vm.$set(_vm.activity, \"activityFee\", _vm._n($$v))},expression:\"activity.activityFee\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):_vm._e(),_vm._v(\" \"),(_vm.activity.activityFree == '0' )?_c('el-form-item',{attrs:{\"label\":\"活动费用：\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"费用只能是数值，限2位小数\"},model:{value:(_vm.activity.activityFee),callback:function ($$v) {_vm.$set(_vm.activity, \"activityFee\", _vm._n($$v))},expression:\"activity.activityFee\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动咨询电话：\",\"prop\":\"activityPhone\"}},[_c('el-input',{staticClass:\"input-width\",model:{value:(_vm.activity.activityPhone),callback:function ($$v) {_vm.$set(_vm.activity, \"activityPhone\", $$v)},expression:\"activity.activityPhone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动状态：\"}},[_c('el-radio-group',{model:{value:(_vm.activity.activated),callback:function ($$v) {_vm.$set(_vm.activity, \"activated\", $$v)},expression:\"activity.activated\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"还未开始\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"正在进行\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"已结束\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"截止报名\")])],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('activityForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),(!_vm.isEdit)?_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('activityForm')}}},[_vm._v(\"重置\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-817e7572\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/wms/activity/components/ActivityDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-817e7572\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ActivityDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-817e7572\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivityDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-817e7572\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wms/activity/components/ActivityDetail.vue\n// module id = null\n// module chunks = ","<template> \n  <home-advertise-detail :isEdit=\"true\"></home-advertise-detail>\n</template>\n<script>\n  import HomeActivityDetail from './components/ActivityDetail'\n  export default {\n    name: 'HomeActivityDetail',\n    components: { HomeAdvertiseDetail: HomeActivityDetail }\n  }\n</script>\n<style></style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/wms/activity/update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('home-advertise-detail',{attrs:{\"isEdit\":true}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9d096182\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/wms/activity/update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9d096182\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./update.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9d096182\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wms/activity/update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}